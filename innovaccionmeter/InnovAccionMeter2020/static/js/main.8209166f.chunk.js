(this.webpackJsonpinnovaccionmeter=this.webpackJsonpinnovaccionmeter||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/welcome.dd065de8.png"},15:function(e,t,a){e.exports=a(43)},20:function(e,t,a){},22:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),o=a.n(s),c=(a(20),a(1)),i=a.n(c),l=a(2),m=a(3),d=a(4),u=a(6),p=a(5),v=(a(22),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"Modal_Error",className:"modal fade"},r.a.createElement("div",{className:"modal-dialog modal-confirm"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"icon-box bg-danger",id:"ModalEventoIconBox"},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("h4",{className:"modal-title",id:"Modal_ErrorTitle"},"Titulo")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",{className:"text-justify",id:"Modal_ErrorBody"},"Contenido")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-primary btn-user btn-block","data-dismiss":"modal"},"OK")))))}}]),a}(n.Component)),E=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"Modal_Ok",className:"modal fade"},r.a.createElement("div",{className:"modal-dialog modal-confirm"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"icon-box bg-success",id:"ModalEventoIconBox"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement("h4",{className:"modal-title",id:"Modal_OkTitle"},"Titulo")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",{className:"text-justify",id:"Modal_OkBody"},"Contenido")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-primary btn-user btn-block","data-dismiss":"modal"},"OK")))))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).funcion=function(){e.props.funcion(),window.closemodal("Modal_Warning")},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"Modal_Warning",className:"modal fade"},r.a.createElement("div",{className:"modal-dialog modal-confirm"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"icon-box bg-warning",id:"ModalEventoIconBox"},r.a.createElement("i",{className:"fas fa-exclamation"})),r.a.createElement("h4",{className:"modal-title",id:"Modal_WarningTitle"},"Titulo")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",{className:"text-justify",id:"Modal_WarningBody"},"Contenido"),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-primary btn-user btn-block",onClick:this.funcion},"SI")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-secondary btn-user btn-block","data-dismiss":"modal"},"NO")))))))}}]),a}(n.Component),h=a(7),b=a.n(h),y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).recuperar_clave=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),o[t]=document.getElementById(e).elements[t].value)},t.preventDefault(),a=!0,r=!0,s="recuperarform",o={},Array.from(document.getElementById(s).elements).filter((function(e){return!0===e.className.includes("requerido")})).map((function(e){return c(s,e.id),!0})),!r){e.next=23;break}return e.prev=8,l="http://"+window.location.host.split(":")[0]+":60000/recuperar_clave",e.next=12,fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 12:return m=e.sent,e.next=15,m.json();case 15:d=e.sent,200===m.status?(window.ModalOk("recuperaci&oacute;n de Clave","Su clave fue enviada a su correo"),window.RemoveClass(),document.getElementById("recuperarform").reset(),n.setState({vista:"login"})):(window.ModalError("recuperaci&oacute;n de Clave",d.error),document.getElementById(s).reset(),window.RemoveClass()),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),window.ModalError("recuperaci&oacute;n de Clave",e.t0.error),document.getElementById(s).reset();case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}}(),n.validar_login=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),o[t]=document.getElementById(e).elements[t].value)},t.preventDefault(),a=!0,r=!0,s="frmlogin",o={},Array.from(document.getElementById(s).elements).filter((function(e){return!0===e.className.includes("requerido")})).map((function(e){return c(s,e.id),!0})),!r){e.next=23;break}return e.prev=8,l="http://"+window.location.host.split(":")[0]+":60000/login",e.next=12,fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 12:return m=e.sent,e.next=15,m.json();case 15:d=e.sent,200===m.status?(window.RemoveClass(),sessionStorage.setItem("innovaccionmeter_session",d.token),n.props.data_session()):(window.ModalError("Inicio de Sessi&oacute;n",d.error),document.getElementById(s).reset(),window.RemoveClass()),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),window.ModalError("Inicio de Sessi&oacute;n",e.t0.error),document.getElementById(s).reset();case 23:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}}(),n.cambiar_vista=function(e){e.preventDefault(),n.setState({vista:"recuperar"})},n.state={vista:"login"},n}return Object(d.a)(a,[{key:"render",value:function(){return"login"===this.state.vista?r.a.createElement("div",{className:"custom-class m-auto"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},r.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"p-5"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:b.a,className:"img-fluid",alt:"Logo IMG"})),r.a.createElement("hr",null),r.a.createElement("form",{className:"user",id:"frmlogin"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlSelect1"},"Encuesta"),r.a.createElement("select",{className:"form-control requerido",style:{borderRadius:"10rem"},id:"frmlogin_tipoEncuesta"},r.a.createElement("option",{value:"2"},"Equipo Gerencial (90\xb0)"),r.a.createElement("option",{value:"3"},"Colaboradores (180\xb0)"),r.a.createElement("option",{value:"4"},"Proveedores (270\xb0)"),r.a.createElement("option",{value:"5"},"Clientes (360\xb0)"),r.a.createElement("option",{value:"88"},"Administrador"),r.a.createElement("option",{value:"99"},"Coach"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"usuario"},"Correo Electronico"),r.a.createElement("input",{type:"email",className:"form-control form-control-user requerido",id:"frmlogin_usuario","aria-describedby":"emailHelp"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Contrese\xf1a"),r.a.createElement("input",{type:"password",className:"form-control form-control-user requerido",id:"frmlogin_password"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-user btn-block",id:"frmlogin_enviar",onClick:this.validar_login},"Iniciar Sessi\xf3n"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{className:"small",href:"/InnovAccionMeter2020/#",onClick:this.cambiar_vista},"Olvide mi Contrase\xf1a")))))))))):r.a.createElement("div",{className:"custom-class m-auto"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},r.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"p-5"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:b.a,className:"img-fluid",alt:"Logo IMG"})),r.a.createElement("hr",null),r.a.createElement("form",{className:"user",id:"recuperarform"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"frmlogin_tipoEncuesta"},"Encuesta"),r.a.createElement("select",{className:"form-control requerido",style:{borderRadius:"10rem"},id:"frmlogin_tipoEncuesta"},r.a.createElement("option",{value:""},"Seleccione"),r.a.createElement("option",{value:"2"},"Equipo Gerencial (90\xb0)"),r.a.createElement("option",{value:"3"},"Colaboradores (180\xb0)"),r.a.createElement("option",{value:"4"},"Proveedores (270\xb0)"),r.a.createElement("option",{value:"5"},"Clientes (360\xb0)"),r.a.createElement("option",{value:"88"},"Administrador"),r.a.createElement("option",{value:"99"},"Coach"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"usuario"},"Correo Electronico"),r.a.createElement("input",{type:"email",className:"form-control form-control-user requerido",id:"recuperarform_usuario","aria-describedby":"emailHelp"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-user btn-block",id:"recuperarform_enviar",onClick:this.recuperar_clave},"Recuperar Contrase\xf1a"),r.a.createElement("hr",null))))))))))}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).logout=function(){var e=n.context.unbind_usuario;sessionStorage.removeItem("innovaccionmeter_session"),e()},n.menu_coach=function(e){return 99===e.state.usuario.TipoUsuario?r.a.createElement("a",{className:"nav-link",href:"/InnovAccionMeter2020/#",onClick:function(){return n.props.coach_mail()}},r.a.createElement("i",{className:"far fa-user"})," "+e.state.usuario.Nombre):r.a.createElement("a",{className:"nav-link",href:"/InnovAccionMeter2020/#"},r.a.createElement("i",{className:"far fa-user"})," "+e.state.usuario.Nombre)},a.contextType=K,n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.state,n=t.tipo_warning;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-white mb-4 static-top shadow"},r.a.createElement("a",{className:"navbar-brand",href:"/InnovAccionMeter2020/#"},r.a.createElement("img",{src:b.a,className:"img-fluid",alt:"Logo"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/InnovAccionMeter2020/#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fas fa-globe"}),"Idioma / Language"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement("a",{className:"dropdown-item",href:"/InnovAccionMeter2020/#"},"Espa\xf1ol"),r.a.createElement("a",{className:"dropdown-item",href:"/InnovAccionMeter2020/#"},"English"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/InnovAccionMeter2020/#",onClick:function(){return n(e.logout,"Cerrar Sesi\xf3n","\xbfEsta seguro que desea cerrar sesi\xf3n?")}},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),"Logout")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(this.menu_coach,{state:a})))))}}]),a}(n.Component),g=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n,s=this;return Object(m.a)(this,a),(n=t.call(this,e)).enviar_encuesta=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){""===document.getElementById(e).elements[t].value.trim()?(a=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),r&&(document.getElementById(e).elements[t].focus(),r=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),s[t]=document.getElementById(e).elements[t].value)},t.preventDefault(),a=!0,r=!0,s={},o="form_con_coach",Array.from(document.getElementById(o).elements).map((function(e){return c(o,e.id),!0})),!a){e.next=36;break}return e.prev=8,l="",e.next=12,window.html2canvas(document.getElementById("tabla-final"),{onrendered:function(e){l=e.toDataURL()}});case 12:return s.IdEmpresa=n.state.datos_empresa.IdEmpresa,s.NombreEmpresa=n.state.datos_empresa.NombreEmpresa,s.Contacto=n.state.datos_empresa.Contacto,s.correo_contacto=n.state.datos_empresa.correo_contacto,s.Sigla=n.state.datos_empresa.Sigla,s.tipo_encuesta=n.props.tipo_encuesta,s.imagen=l,(m=new Headers).append("Content-Type","application/json"),m.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),d="http://"+window.location.host.split(":")[0]+":60000/enviar_conclusion",e.next=25,fetch(d,{method:"POST",headers:m,body:JSON.stringify(s)});case 25:return u=e.sent,e.next=28,u.json();case 28:p=e.sent,200===u.status?window.ModalOk("Env&iacute;o de Conclusi&oacute;n","Se env&iacute;o satisfactoriamente la conclusi&oacute;n y recomendacion a: "+p.Contacto):400===u.status?window.ModalError("Env&iacute;o de Conclusi&oacute;n",p.error):n.state.auth_false(),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(8),window.ModalError("Env&iacute;o de Conclusi&oacute;n",e.t0.error),document.getElementById(o).reset();case 36:case"end":return e.stop()}}),e,null,[[8,32]])})));return function(t){return e.apply(this,arguments)}}(),n.Style=function(e){return e<6?"badge badge-pill badge-danger px-2 py-1":e>=6&&e<8?"badge badge-pill badge-warning px-2 py-1":e>=8?"badge badge-pill badge-success px-2 py-1":void 0},n.resultados_innovacion=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var s,o,c,l,m,d,u,p,v,E,f,h,b,y,x,g,N,w,_,k,I,S,j,C,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),2===r){if(o=[],0===a)for(l in c=n.state.usuario_data)l.includes("P09")&&o.push(c[l]);else{for(d in m=n.state.datos_empresa)d.includes("P09")&&o.push(m[d]);n.setState({conclusion:null!==m.Conclusion90?m.Conclusion90:"",recomendacion:null!==m.Recomendacion90?m.Recomendacion90:""})}n.setState({peso_empresa:o})}if(3===r){if(u=[],0===a)for(v in p=n.state.usuario_data)v.includes("P18")&&u.push(p[v]);else{for(f in E=n.state.datos_empresa)f.includes("P18")&&u.push(E[f]);n.setState({conclusion:null!==E.Conclusion180?E.Conclusion180:"",recomendacion:null!==E.Recomendacion180?E.Recomendacion180:""})}n.setState({peso_empresa:u})}if(4===r){if(h=[],0===a)for(y in b=n.state.usuario_data)y.includes("P27")&&h.push(b[y]);else{for(g in x=n.state.datos_empresa)g.includes("P27")&&h.push(x[g]);n.setState({conclusion:null!==x.Conclusion270?x.Conclusion270:"",recomendacion:null!==x.Recomendacion270?x.Recomendacion270:""})}n.setState({peso_empresa:h})}if(5===r){if(N=[],0===a)for(_ in w=n.state.usuario_data)_.includes("P36")&&N.push(w[_]);else{for(I in k=n.state.datos_empresa)I.includes("P36")&&N.push(k[I]);n.setState({conclusion:null!==k.Conclusion360?k.Conclusion360:"",recomendacion:null!==k.Recomendacion360?k.Recomendacion360:""})}n.setState({peso_empresa:N})}return S="http://"+window.location.host.split(":")[0]+":60000/resultados_innovacion?user="+parseInt(t)+"&empresa="+parseInt(a)+"&tipo="+parseInt(r),e.next=11,fetch(S,{method:"GET",headers:s});case 11:return j=e.sent,e.next=14,j.json();case 14:if(C=e.sent,200!==j.status){e.next=20;break}return O=C,e.abrupt("return",O);case 20:if(400!==j.status){e.next=25;break}return window.ModalError("Reporte",C.error),e.abrupt("return",{});case 25:return n.state.auth_false(),e.abrupt("return",{});case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.proposito=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var s,o,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),o="http://"+window.location.host.split(":")[0]+":60000/proposito?user="+parseInt(t)+"&empresa="+parseInt(a)+"&tipo="+parseInt(r),e.next=7,fetch(o,{method:"GET",headers:s});case 7:return c=e.sent,e.next=10,c.json();case 10:if(l=e.sent,200!==c.status){e.next=16;break}return m=l,e.abrupt("return",m);case 16:if(400!==c.status){e.next=21;break}return window.ModalError("Reporte",l.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.liderazgo=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var s,o,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),o="http://"+window.location.host.split(":")[0]+":60000/liderazgo?user="+parseInt(t)+"&empresa="+parseInt(a)+"&tipo="+parseInt(r),e.next=7,fetch(o,{method:"GET",headers:s});case 7:return c=e.sent,e.next=10,c.json();case 10:if(l=e.sent,200!==c.status){e.next=16;break}return m=l,e.abrupt("return",m);case 16:if(400!==c.status){e.next=21;break}return window.ModalError("Reporte",l.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.estructuras_habilitadoras=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var s,o,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),o="http://"+window.location.host.split(":")[0]+":60000/estructuras_habilitadoras?user="+parseInt(t)+"&empresa="+parseInt(a)+"&tipo="+parseInt(r),e.next=7,fetch(o,{method:"GET",headers:s});case 7:return c=e.sent,e.next=10,c.json();case 10:if(l=e.sent,200!==c.status){e.next=16;break}return m=l,e.abrupt("return",m);case 16:if(400!==c.status){e.next=21;break}return window.ModalError("Reporte",l.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.sistemas_consistentes=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var s,o,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),o="http://"+window.location.host.split(":")[0]+":60000/sistemas_consistentes?user="+parseInt(t)+"&empresa="+parseInt(a)+"&tipo="+parseInt(r),e.next=7,fetch(o,{method:"GET",headers:s});case 7:return c=e.sent,e.next=10,c.json();case 10:if(l=e.sent,200!==c.status){e.next=16;break}return m=l,e.abrupt("return",m);case 16:if(400!==c.status){e.next=21;break}return window.ModalError("Reporte",l.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.cultura_conectada=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var s,o,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),o="http://"+window.location.host.split(":")[0]+":60000/cultura_conectada?user="+parseInt(t)+"&empresa="+parseInt(a)+"&tipo="+parseInt(r),e.next=7,fetch(o,{method:"GET",headers:s});case 7:return c=e.sent,e.next=10,c.json();case 10:if(l=e.sent,200!==c.status){e.next=16;break}return m=l,e.abrupt("return",m);case 16:if(400!==c.status){e.next=21;break}return window.ModalError("Reporte",l.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.tool_tips_data=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r){var s,o,c,l,m,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),o="http://"+window.location.host.split(":")[0]+":60000/tool_tips_data?user="+parseInt(t)+"&empresa="+parseInt(a)+"&tipo="+parseInt(r),e.next=7,fetch(o,{method:"GET",headers:s});case 7:return c=e.sent,e.next=10,c.json();case 10:if(l=e.sent,200===c.status){for(d in m=[],l)u={},p=l[d].split("|"),0!==parseInt(p[2])&&(u.pagina=p[0],u.pregunta=p[1],u.valor=p[2],u.texto=p[3],u.total=p[4],m.push(u));n.setState({tooltips:m})}else 400===c.status?window.ModalError("Reporte",l.error):n.state.auth_false();e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.datos_usuario=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/datos_usuario?user="+parseInt(t),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({usuario_data:o,version:o.Version}):400===s.status?window.ModalError("Reporte",o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.datos_empresa=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/datos_empresa?id="+parseInt(t),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos_empresa:o}):400===s.status?window.ModalError("Reporte",o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.reporte_final=function(e,t){var a=0,r=0,s={},o=[];if(1===t){for(var c in s.titulo="ICC (Resultados Innovaci\xf3n)",e)if(e[c]>0){var i,l;i=n.state.resultados[c],l=e[c],o.push(JSON.stringify({pregunta:i,resultado:l})),a+=e[c],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(2===t){for(var m in s.titulo="Prop\xf3sito, Objetivo, Estrategia",e)if(e[m]>0){var d,u;d=n.state.proposito[m-1],u=e[m],o.push(JSON.stringify({pregunta:d,resultado:u})),a+=e[m],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(3===t){for(var p in s.titulo="Liderazgo Inspirador",e)if(e[p]>0){var v,E;v=n.state.liderazgo[p-1],E=e[p],o.push(JSON.stringify({pregunta:v,resultado:E})),a+=e[p],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(4===t){for(var f in s.titulo="Estructuras Habilitadoras",e)if(e[f]>0){var h,b;h=n.state.estructuras_habilitadoras[f-1],b=e[f],o.push(JSON.stringify({pregunta:h,resultado:b})),a+=e[f],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(5===t){for(var y in s.titulo="Sistemas Consistentes & Confiables",e)if(e[y]>0){var x,g;x=n.state.sistemas_consistentes[y-1],g=e[y],o.push(JSON.stringify({pregunta:x,resultado:g})),a+=e[y],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(6===t){for(var N in s.titulo="Cultura Conectada",e)if(e[N]>0){var w,_;w=n.state.cultura_conectada[N-1],_=e[N],o.push(JSON.stringify({pregunta:w,resultado:_})),a+=e[N],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}var k=n.state.reporte_final;k.push(s),n.setState({reporte_final:k})},n.componentDidMount=Object(l.a)(i.a.mark((function e(){var t,a,r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.id_usuario,a=n.props.id_empresa,r=n.props.tipo_encuesta,e.next=6,n.context;case 6:if(s=e.sent,o=s.state,c=s.auth_false,n.setState({state:o,auth_false:c}),0!==a){e.next=15;break}return e.next=13,n.datos_usuario(t);case 13:e.next=17;break;case 15:return e.next=17,n.datos_empresa(a);case 17:if(99!==n.state.state.usuario.TipoUsuario){e.next=20;break}return e.next=20,n.tool_tips_data(t,a,r);case 20:return l=[],e.next=23,n.resultados_innovacion(t,a,r);case 23:return l=e.sent,n.reporte_final(l,1),e.next=27,n.proposito(t,a,r);case 27:return l=e.sent,n.reporte_final(l,2),e.next=31,n.liderazgo(t,a,r);case 31:return l=e.sent,n.reporte_final(l,3),e.next=35,n.estructuras_habilitadoras(t,a,r);case 35:return l=e.sent,n.reporte_final(l,4),e.next=39,n.sistemas_consistentes(t,a,r);case 39:return l=e.sent,n.reporte_final(l,5),e.next=43,n.cultura_conectada(t,a,r);case 43:if(l=e.sent,n.reporte_final(l,6),n.setState({mostrar:!0}),document.getElementById("div_principal").style.width="1080px",void 0===n.props.correo){e.next=50;break}return e.next=50,n.correo_encuesta_finalizada(n.props);case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 55:case"end":return e.stop()}}),e,null,[[0,52]])}))),n.correo_encuesta_finalizada=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={},r="",e.next=5,window.html2canvas(document.getElementById("tabla-final"),{onrendered:function(e){r=e.toDataURL("image/jpeg")}});case 5:return a.tipo_encuesta=t.tipo_encuesta,a.id_usuario=t.id_usuario,a.imagen=r,document.getElementById("div_principal").style.width="",(s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),o="http://"+window.location.host.split(":")[0]+":60000/correo_encuesta_finalizada",e.next=15,fetch(o,{method:"POST",headers:s,body:JSON.stringify(a)});case 15:return c=e.sent,e.next=18,c.json();case 18:l=e.sent,200===c.status||(400===c.status?window.ModalError("Env&iacute;o de Resultados de Encuesta",l.error):n.state.auth_false()),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),window.ModalError("Env&iacute;o de Resultados de Encuesta",e.t0.error);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),n.Reporte=function(){var e=n.state.usuario_data,t=n.state.idioma,a=n.props.id_empresa,o="",c="",i="",l="",m="";return window.screen.width<720?(l="970px",m="block"):(l="auto",m="none"),"ESP"===t&&(c="Muchas gracias por su cooperaci\xf3n",i="El equipo de Best Place to Innovate le agradece su participaci\xf3n en contestar esta encuesta.",2===n.props.tipo_encuesta&&(o="Resultado Encuesta 90\xb0"),3===n.props.tipo_encuesta&&(o="Resultado Encuesta 180\xb0"),4===n.props.tipo_encuesta&&(o="Resultado Encuesta 270\xb0"),4===n.props.tipo_encuesta&&(o="Resultado Encuesta 360\xb0")),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h1",{className:"h3 mb-4 text-gray-800 text-center"},o),r.a.createElement("h1",{className:"h4 mb-4 text-gray-800 text-center px-2"},c),r.a.createElement("div",{className:"py-5 text-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior")),r.a.createElement("h1",{className:"h3 mb-4 text-gray-800",style:{display:m}},"Deslice a la Derecha"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("div",{className:"card",id:"tabla-final",style:{width:l}},r.a.createElement("div",{className:"h5 card-header bg-white text-dark text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 py-2"},0===a?e.NombreEmpresa:n.state.datos_empresa.NombreEmpresa),r.a.createElement("div",{className:"col-4 py-2"},0===a?e.nombre:""),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 font-weight-bold py-2"},"SCORE TOTAL"),r.a.createElement("div",{className:"col-6 py-2"},r.a.createElement("span",{className:n.Style((n.state.promedio_general/6).toFixed(1))},(n.state.promedio_general/6).toFixed(1))))))),r.a.createElement("div",{className:"card-body",style:{paddingTop:"0px",paddingBottom:"0px"}},r.a.createElement("div",{className:"row"},n.state.reporte_final.map((function(e,t){var a=t;return r.a.createElement("div",{className:"col-4",key:t,style:{paddingTop:"0px",paddingBottom:"0px"}},r.a.createElement("div",{className:"card h-100"},r.a.createElement("div",{className:"card-header bg-white text-dark text-center",style:{height:"110px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"h6 col-9 py-3"},e.titulo),r.a.createElement("div",{className:"col-3 py-2"}," ",r.a.createElement("span",{className:n.Style(e.promedio)},e.promedio))),r.a.createElement("div",{className:"row text-right"},r.a.createElement("div",{className:"col-12 h6 pl-5"},e.peso))),r.a.createElement("div",{className:"card-body"},e.resultados.map((function(e,t){var s=JSON.parse(e);if(void 0===n.state.tooltips)return r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"col-9 py-2 text-left"},s.pregunta),r.a.createElement("div",{className:"col-3 py-2 text-center"},r.a.createElement("span",{className:n.Style(s.resultado)},s.resultado.toFixed(1))));var o="";return n.state.tooltips.map((function(e){return e.pagina===a.toString()&&e.pregunta===t.toString()&&(o+=e.texto+" Puntaje: ( "+(e.valor/e.total).toFixed(1)+" ) \n\n"),!0})),r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"col-9 py-2 text-left","data-toggle":"tooltip",title:o},s.pregunta),r.a.createElement("div",{className:"col-3 py-2 text-center"},r.a.createElement("span",{className:n.Style(s.resultado)},s.resultado.toFixed(1))))})))))})))))),0!==a?r.a.createElement(s.conclusion,null):"",r.a.createElement("div",{className:"d-flex justify-content-center py-5"},i),r.a.createElement(s.boton,null))},n.conclusion=function(){return r.a.createElement("form",{className:"form-group py-5",id:"form_con_coach"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"comment"},"Conclusi\xf3n"),r.a.createElement("textarea",{className:"form-control",rows:"3",id:"conclusion_coach",readOnly:88===n.state.state.usuario.TipoUsuario,defaultValue:n.state.conclusion}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"comment"},"Recomendaci\xf3n"),r.a.createElement("textarea",{className:"form-control",rows:"3",id:"recomendacion_coach",readOnly:88===n.state.state.usuario.TipoUsuario,defaultValue:n.state.recomendacion}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")))},n.boton=function(){return 99===n.state.state.usuario.TipoUsuario&&0!==n.props.id_empresa?r.a.createElement("div",{className:"row text-center pb-5"},r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior")),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.enviar_encuesta},"Enviar Encuesta"))):r.a.createElement("div",{className:"d-flex justify-content-center py-1"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5 my-2",onClick:n.props.funcion},"<< Anterior"))},a.contextType=K,n.state={mostrar:!1,reporte_final:[],promedio_general:0,resultados:["Ingresos","Reducci\xf3n de costos & gastos","Rentabilidad","Modelo de negocio","Satisfacci\xf3n del Cliente","Sostenibilidad"],proposito:["Prop\xf3sito de Innovaci\xf3n","Alineamiento a Resultados","Desaf\xedos Concretos","Estrategias"],liderazgo:["Aprendizaje Continuo","Herramientas","Asignaci\xf3n Recursos y Responsables","Comunicaci\xf3n"],estructuras_habilitadoras:["Co-Creaci\xf3n","Talento","Recursos","Procesos"],sistemas_consistentes:["B\xfasqueda de Oportunidades","Desarrollo de Soluciones","Desarrollo de Modelo de Negocio","Gesti\xf3n del Cambio"],cultura_conectada:["Apertura hacia lo nuevo","Orientaci\xf3n Comercial","Flexibilidad ante Cambios","Tolerancia a Fallar"]},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:""},this.state.mostrar?r.a.createElement(this.Reporte,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),N=a(13),w=a.n(N),_=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center h-100 bg-white"},r.a.createElement("img",{width:"800",height:"800",src:w.a,className:"img-fluid",alt:"welcome",onClick:function(){return e.props.avanzar()}}))}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).avanzar=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,r={},s={},n.state.cantidad_preguntas.map((function(e){var t=n.state.preguntas.filter((function(t){return t.id.toString()===e.toString()}));if(document.getElementsByName(t[0].name).length>0){if("radio"===t[0].tipo||"linea"===t[0].tipo){var r=!1;Array.from(document.getElementsByName(t[0].name)).map((function(e){return e.checked&&(r=!0,s[e.name]=e.value),!0})),r?(document.getElementById(e).classList.remove("d-block"),document.getElementById(e).classList.add("d-none")):(document.getElementById(e).classList.remove("d-none"),document.getElementById(e).classList.add("d-block"),window.ModalError("Encuesta","Todas las preguntas son obligatorias, por favor validar"),a=!1)}if("check"===t[0].tipo){var o=!1;Array.from(document.getElementsByName(t[0].name)).map((function(e){return e.checked?(o=!0,s[e.id]="1"):s[e.id]="0",!0})),o?(document.getElementById(e).classList.remove("d-block"),document.getElementById(e).classList.add("d-none")):(document.getElementById(e).classList.remove("d-none"),document.getElementById(e).classList.add("d-block"),window.ModalError("Encuesta","Todas las preguntas son obligatorias, por favor validar"),a=!1)}}return!0})),!a){e.next=33;break}return r.TipoUsuario=n.state.state.usuario.TipoUsuario,r.Id=n.state.state.usuario.Id,r.Pagina=n.state.pagina,r.Respuestas=s,e.prev=10,(o=new Headers).append("Content-Type","application/json"),o.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),c="http://"+window.location.host.split(":")[0]+":60000/actualizar_encuesta",e.next=17,fetch(c,{method:"POST",headers:o,body:JSON.stringify(r)});case 17:return l=e.sent,e.next=20,l.json();case 20:if(m=e.sent,200!==l.status){e.next=27;break}return n.setState({pagina:n.state.pagina+1,cantidad_preguntas:void 0}),e.next=25,n.encuesta_data();case 25:e.next=28;break;case 27:400===l.status?window.ModalError("Encuesta",m.error):n.state.auth_false();case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(10),window.ModalError("Encuesta",e.t0.error);case 33:case"end":return e.stop()}}),e,null,[[10,30]])})));return function(t){return e.apply(this,arguments)}}(),n.regresar=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({pagina:n.state.pagina-1,cantidad_preguntas:void 0});case 2:return e.next=4,n.encuesta_data();case 4:case"end":return e.stop()}}),e)}))),n.welcome_avanzar=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({pagina:1,cantidad_preguntas:void 0});case 2:return e.next=4,n.encuesta_data();case 4:case"end":return e.stop()}}),e)}))),n.respuestas_bd=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),"",r="http://"+window.location.host.split(":")[0]+":60000/encuesta?user="+t.Id+"&tipousuario="+t.TipoUsuario,e.next=8,fetch(r,{method:"GET",headers:a});case 8:return s=e.sent,e.next=11,s.json();case 11:for(c in o=e.sent)"EncuestaEnviada"!==c&&null===o[c]&&(o[c]=0);if(200!==s.status){e.next=18;break}return n.setState({respuestas_bd:o}),e.abrupt("return",!0);case 18:if(400!==s.status){e.next=23;break}return window.ModalError("Encuesta",o.error),e.abrupt("return",!1);case 23:return n.state.auth_false(),e.abrupt("return",!1);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),window.ModalError("Encuesta",e.t0.error);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),n.encuesta_data=Object(l.a)(i.a.mark((function e(){var t,a,r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state.state.usuario,8===n.state.pagina){e.next=27;break}return e.next=5,n.respuestas_bd(t);case 5:if(!e.sent){e.next=27;break}return(a={}).idioma=n.state.state.idioma,a.TipoUsuario=t.TipoUsuario.toString(),a.pagina=n.state.pagina.toString(),e.prev=10,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/preguntas_encuesta",e.next=17,fetch(s,{method:"POST",headers:r,body:JSON.stringify(a)});case 17:return o=e.sent,e.next=20,o.json();case 20:c=e.sent,200===o.status?(l=[],c.map((function(e){return l.includes(e.id)||l.push(e.id),!0})),n.setState({preguntas:c,cantidad_preguntas:l}),n.state.cantidad_preguntas.map((function(e){var t=n.state.preguntas.filter((function(t){return t.id.toString()===e.toString()}));return"radio"!==t[0].tipo&&"linea"!==t[0].tipo||Array.from(document.getElementsByName(t[0].name)).map((function(e){return e.value===n.state.respuestas_bd[t[0].name].toString()?e.checked=!0:e.checked=!1})),"check"===t[0].tipo&&Array.from(document.getElementsByName(t[0].name)).map((function(e){return 1===n.state.respuestas_bd[e.id]?e.checked=!0:e.checked=!1})),!0}))):400===o.status?window.ModalError("Encuesta",c.error):n.state.auth_false(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),window.ModalError("Encuesta",e.t0.error);case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(0),window.ModalError("Encuesta",e.t1.error);case 32:case"end":return e.stop()}}),e,null,[[0,29],[10,24]])}))),n.crear_encuesta_vacia=Object(l.a)(i.a.mark((function e(){var t,a,r,s,o,c,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.context;case 3:return t=e.sent,a=t.state,r=t.auth_false,n.setState({state:a,auth_false:r}),(s={}).Id=n.state.state.usuario.Id,s.IdEmpresa=n.state.state.usuario.IdEmpresa,s.TipoUsuario=n.state.state.usuario.TipoUsuario,(o=new Headers).append("Content-Type","application/json"),o.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),c="http://"+window.location.host.split(":")[0]+":60000/crear_encuesta_vacia",e.next=17,fetch(c,{method:"POST",headers:o,body:JSON.stringify(s)});case 17:return l=e.sent,e.next=20,l.json();case 20:m=e.sent,200===l.status||(400===l.status?window.ModalError("Encuesta",m.error):n.state.auth_false()),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),window.ModalError("Encuesta",e.t0.error);case 27:case"end":return e.stop()}}),e,null,[[0,24]])}))),n.componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.crear_encuesta_vacia();case 2:return e.next=4,n.encuesta_data();case 4:case"end":return e.stop()}}),e)}))),n.Preguntas=function(){var e=n.state.state.usuario,t="",a="",s="",o="("+n.state.pagina+"/7)";return"ESP"===n.state.state.idioma&&("2"===e.TipoUsuario.toString()&&(t="Encuesta Comit\xe9 Ejecutivo Inicial - 90\xb0","1"===n.state.pagina.toString()&&(a="I. Informaci\xf3n General"),"2"===n.state.pagina.toString()&&(a="II. Resultados de aplicar Innovaci\xf3n"),"3"===n.state.pagina.toString()&&(a="III. Impacto y expectativas de las iniciativas de innovaci\xf3n en los resultados"),"3"===n.state.pagina.toString()&&(s="Se refiere a la importancia en el resultado que han tenido o tendr\xe1n los distintos esfuerzos de innovaci\xf3n en la empresa. Entienda resultados como crecimiento en ventas, reducci\xf3n de costos, rentabilidad, etc."),"4"===n.state.pagina.toString()&&(a="IV. Liderando la Innovaci\xf3n"),"4"===n.state.pagina.toString()&&(s="\xbfUsted como un l\xedder de la empresa qu\xe9 tan de acuerdo est\xe1 con las siguientes afirmaciones?"),"5"===n.state.pagina.toString()&&(a="V. Organizaci\xf3n para la Innovaci\xf3n"),"5"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de la organizaci\xf3n para llevar adelante la innovaci\xf3n en su empresa, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes afirmaciones"),"6"===n.state.pagina.toString()&&(a="VI. Cultura Pro Innovaci\xf3n"),"6"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de las caracter\xedsticas que representan la cultura de innovaci\xf3n de la organizaci\xf3n, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes afirmaciones"),"7"===n.state.pagina.toString()&&(a="VII. Facilitadores de Innovaci\xf3n"),"7"===n.state.pagina.toString()&&(s="Respecto al uso de herramientas o m\xe9todos para innovar que han utilizado en su empresa, por favor seleccione en cada caso el nivel de uso que crea que corresponde.")),"3"===e.TipoUsuario.toString()&&(t="Encuesta Colaboradores - 180\xb0","1"===n.state.pagina.toString()&&(a="I. Informaci\xf3n General"),"2"===n.state.pagina.toString()&&(a="II. Resultados de aplicar Innovaci\xf3n"),"3"===n.state.pagina.toString()&&(a="III. Impacto y expectativas de las iniciativas de innovaci\xf3n en los resultados"),"3"===n.state.pagina.toString()&&(s="Se refiere a la importancia en el resultado que han tenido o tendr\xe1n los distintos esfuerzos de innovaci\xf3n en la empresa. Entienda resultados como crecimiento en ventas, reducci\xf3n de costos, rentabilidad, etc."),"4"===n.state.pagina.toString()&&(a="IV. Liderando la Innovaci\xf3n"),"4"===n.state.pagina.toString()&&(s="\xbfUsted como un l\xedder de la empresa qu\xe9 tan de acuerdo est\xe1 con las siguientes afirmaciones?"),"5"===n.state.pagina.toString()&&(a="V. Organizaci\xf3n para la Innovaci\xf3n"),"5"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de la organizaci\xf3n para llevar adelante la innovaci\xf3n en su empresa, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes afirmaciones"),"6"===n.state.pagina.toString()&&(a="VI. Cultura Pro Innovaci\xf3n"),"6"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de las caracter\xedsticas que representan la cultura de innovaci\xf3n de la organizaci\xf3n, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes afirmaciones"),"7"===n.state.pagina.toString()&&(a="VII. Facilitadores de Innovaci\xf3n"),"7"===n.state.pagina.toString()&&(s="Respecto al uso de herramientas o m\xe9todos para innovar que han utilizado en su empresa, por favor seleccione en cada caso el nivel de uso que crea que corresponde.")),"4"===e.TipoUsuario.toString()&&(t="Encuesta Proveedores - 270\xb0","1"===n.state.pagina.toString()&&(a="I. Informaci\xf3n General"),"2"===n.state.pagina.toString()&&(a="II. Resultados de aplicar Innovaci\xf3n"),"3"===n.state.pagina.toString()&&(a="III. Impacto y expectativas de las iniciativas de innovaci\xf3n en los resultados"),"3"===n.state.pagina.toString()&&(s="Se refiere a la importancia en el resultado que han tenido o tendr\xe1n los distintos esfuerzos de innovaci\xf3n en la empresa. Entienda resultados como crecimiento en ventas, reducci\xf3n de costos, rentabilidad, etc."),"4"===n.state.pagina.toString()&&(a="IV. Liderando la Innovaci\xf3n"),"4"===n.state.pagina.toString()&&(s="\xbfUsted qu\xe9 tan de acuerdo creer\xeda estar con las siguientes afirmaciones?"),"5"===n.state.pagina.toString()&&(a="V. Co-Creaci\xf3n"),"5"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de la organizaci\xf3n para llevar adelante la innovaci\xf3n en LA EMPRESA PARA LA CUAL USTED ES PROVEEDOR, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes"),"6"===n.state.pagina.toString()&&(a="VI. Cultura Pro Innovaci\xf3n"),"6"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de las caracter\xedsticas que representan la cultura de innovaci\xf3n de la organizaci\xf3n, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes afirmaciones"),"7"===n.state.pagina.toString()&&(a="VII. Facilitadores de Innovaci\xf3n"),"7"===n.state.pagina.toString()&&(s="Respecto al uso de herramientas o m\xe9todos para innovar que han utilizado en su empresa, por favor seleccione en cada caso el nivel de uso que crea que corresponde.")),"5"===e.TipoUsuario.toString()&&(t="Encuesta Clientes - 360\xb0","1"===n.state.pagina.toString()&&(a="I. Informaci\xf3n General"),"2"===n.state.pagina.toString()&&(a="II. Resultados de aplicar Innovaci\xf3n"),"3"===n.state.pagina.toString()&&(a="III. Impacto y expectativas de las iniciativas de innovaci\xf3n en los resultados"),"3"===n.state.pagina.toString()&&(s="Se refiere a la importancia en el resultado que han tenido o tendr\xe1n los distintos esfuerzos de innovaci\xf3n en la empresa. Entienda resultados como crecimiento en ventas, reducci\xf3n de costos, rentabilidad, etc."),"4"===n.state.pagina.toString()&&(a="IV. Liderando la Innovaci\xf3n"),"4"===n.state.pagina.toString()&&(s="\xbfUsted qu\xe9 tan de acuerdo creer\xeda estar con las siguientes afirmaciones?"),"5"===n.state.pagina.toString()&&(a="V. Co-Creaci\xf3n"),"5"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de la organizaci\xf3n para llevar adelante la innovaci\xf3n en LA EMPRESA PARA LA CUAL USTED ES CLIENTE, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes"),"6"===n.state.pagina.toString()&&(a="VI. Cultura Pro Innovaci\xf3n"),"6"===n.state.pagina.toString()&&(s="Respecto al nivel de desarrollo de las caracter\xedsticas que representan la cultura de innovaci\xf3n de la organizaci\xf3n, por favor seleccione el nivel de desarrollo que crea que corresponde a cada una de las siguientes afirmaciones"),"7"===n.state.pagina.toString()&&(a="VII. Facilitadores de Innovaci\xf3n"),"7"===n.state.pagina.toString()&&(s="Respecto al uso de herramientas o m\xe9todos para innovar que han utilizado en su empresa, por favor seleccione en cada caso el nivel de uso que crea que corresponde."))),r.a.createElement("div",{className:""},r.a.createElement("h1",{className:"h3 mb-4 text-gray-800 text-center"},t),r.a.createElement("h1",{className:"h4 mb-4 text-gray-800 text-center px-2"},a),r.a.createElement("h1",{className:"h4 mb-4 text-gray-800 text-center"},o),r.a.createElement("div",{className:n.state.pagina>2&&n.state.pagina<8?"h5 alert alert-warning d-block":"h5 alert alert-warning d-none",tabIndex:"-1",role:"alert"},s),n.state.cantidad_preguntas.map((function(t){var a=n.state.preguntas.filter((function(e){return e.id===t}));return"0"!==a[0].version.toString()&&a[0].version.toString()!==e.Version.toString()||r.a.createElement("div",{className:"container-fluid",key:t},r.a.createElement("div",{className:"card form-group"},r.a.createElement("div",{className:"h5 card-header bg-white text-dark text-center",dangerouslySetInnerHTML:{__html:a[0].pregunta}}),r.a.createElement("div",{className:"h5 card-body form-group text-dark"},a.map((function(t,a){if("radio"===t.tipo.toString()&&"999"!==t.valor.toString()){if("0"===t.version.toString())return r.a.createElement("div",{className:"form-check",key:t.valor,id:t.name},r.a.createElement("input",{className:"form-check-input py-1",type:"radio",name:t.name,value:t.valor}),r.a.createElement("label",{className:"form-check-label py-1"},t.pregunta));if(t.version.toString()===e.Version.toString())return r.a.createElement("div",{className:"form-check",key:t.valor},r.a.createElement("input",{className:"form-check-input py-1",type:"radio",name:t.name,value:t.valor}),r.a.createElement("label",{className:"form-check-label py-1"},t.pregunta))}if("check"===t.tipo.toString()&&"999"!==t.valor.toString()){if("0"===t.version.toString())return r.a.createElement("div",{className:"form-check",key:a},r.a.createElement("input",{className:"form-check-input py-1",type:"checkbox",name:t.name,value:t.valor,id:t.id_pregunta}),r.a.createElement("label",{className:"form-check-label py-1"},t.pregunta));if(t.version.toString()===e.Version.toString())return r.a.createElement("div",{className:"form-check",key:a},r.a.createElement("input",{className:"form-check-input py-1",type:"checkbox",name:t.name,value:t.valor,id:t.id_pregunta}),r.a.createElement("label",{className:"form-check-label py-1"},t.pregunta))}if("linea"===t.tipo.toString()&&"999"!==t.valor.toString()){if("0"===t.version.toString())return r.a.createElement("div",{className:"table-responsive",key:t.valor},r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("caption",{className:"d-md-none"},"Deslice a la derecha"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}),r.a.createElement("th",{scope:"col"},"1"),r.a.createElement("th",{scope:"col"},"2"),r.a.createElement("th",{scope:"col"},"3"),r.a.createElement("th",{scope:"col"},"4"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.pregunta.split("|")[0]),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"1"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"2"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"3"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"4"}))),r.a.createElement("td",null,t.pregunta.split("|")[1])))));if(t.version.toString()===e.Version.toString())return r.a.createElement("div",{className:"table-responsive",key:t.valor},r.a.createElement("table",{className:"table table-bordered text-center"},r.a.createElement("caption",{className:"d-md-none"},"Deslice a la derecha"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}),r.a.createElement("th",{scope:"col"},"1"),r.a.createElement("th",{scope:"col"},"2"),r.a.createElement("th",{scope:"col"},"3"),r.a.createElement("th",{scope:"col"},"4"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.pregunta.split("|")[0]),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"1"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"2"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"3"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:t.name,value:"4"}))),r.a.createElement("td",null,t.pregunta.split("|")[1])))))}return!0}))),r.a.createElement("div",{className:"alert alert-danger d-none",tabIndex:"-1",role:"alert",id:a[0].id},"Pregunta Obligatoria")))})),r.a.createElement("div",null,r.a.createElement("div",{className:"row my-5"},r.a.createElement("div",{className:"col-md-6 text-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5 my-2",style:{display:1===n.state.pagina?"none":"inline"},onClick:n.regresar},"<< Anterior")),r.a.createElement("div",{className:"col-md-6 text-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5 my-2",style:{display:8===n.state.pagina?"none":"inline"},onClick:n.avanzar},"Siguiente >>")))))},a.contextType=K,n.state={pagina:0,cantidad_preguntas:void 0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement("div",{id:"wrapper",className:""},r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement(x,null),0===this.state.pagina?r.a.createElement(_,{avanzar:this.welcome_avanzar}):"",void 0!==this.state.cantidad_preguntas&&this.state.pagina>0&&this.state.pagina<8?r.a.createElement(this.Preguntas,null):"",8===this.state.pagina?r.a.createElement(g,{tipo_encuesta:this.state.state.usuario.TipoUsuario,id_usuario:this.state.state.usuario.Id,id_empresa:0,funcion:this.regresar,correo:1}):""),r.a.createElement("footer",{className:"sticky-footer bg-white"},r.a.createElement("div",{className:"container my-auto"},r.a.createElement("div",{className:"copyright text-center my-auto"},r.a.createElement("span",null,"Copyright \xa9 Best Place to Innovate")))))))}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).regresar=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({vista:0}),e.next=3,n.funcion_inicial();case 3:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/lista_reporte_empleado?empresa="+parseInt(a)+"&tipo="+parseInt(t),e.next=7,fetch(s,{method:"GET",headers:r});case 7:return o=e.sent,e.next=10,o.json();case 10:c=e.sent,200===o.status?n.setState({datos:c,vista:1,empresa:c[0].NombreEmpresa}):400===o.status?window.ModalError("Reporte",c.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,n.setState({state:a,auth_false:r}),s=n.props.tipo,o=n.props.empresa,e.next=10,n.datos(s,o);case 10:case"end":return e.stop()}}),e)}))),n.pagina_principal=function(){var e=n.state.datos,t=n.props.empresa;return r.a.createElement("div",{className:"table-responsive p-4"},r.a.createElement("div",{className:"row my-5"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5 my-2",style:{display:2===n.state.vista?"none":"inline"},onClick:function(){n.props.funcion(t)}},"<< Anterior"))),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:"text-center"},r.a.createElement("tr",{className:"bg-primary text-white"},r.a.createElement("th",{className:"h5"},"Usuarios Encuesta Terminada - ",n.state.empresa))),r.a.createElement("tbody",null,e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"text-center"},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark h5",href:"/InnovAccionMeter2020/#",onClick:function(){return n.reporte_individual(e)}},e.Nombre))))})))))},n.reporte_individual=function(e){n.setState({TipoUsuario:e.TipoUsuario,Id:e.Id,vista:2})},a.contextType=K,n.state={vista:0,empresa:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.usuario,a=this.props.tipo,n=this.props.empresa,s="";return 2===a&&(s="Usuarios - Encuesta 90\xb0"),3===a&&(s="Usuarios - Encuesta 180\xb0"),4===a&&(s="Usuarios - Encuesta 270\xb0"),5===a&&(s="Usuarios - Encuesta 360\xb0"),r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 mb-4 text-gray-800 text-center",style:{display:99===t.TipoUsuario?"none":"block"}},s),1===this.state.vista?r.a.createElement(this.pagina_principal,null):2===this.state.vista?r.a.createElement(g,{tipo_encuesta:this.state.TipoUsuario,id_usuario:this.state.Id,id_empresa:0,funcion:this.regresar}):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))),r.a.createElement("div",{className:"row my-5"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5 my-2",style:{display:2===this.state.vista?"none":"inline"},onClick:function(){e.props.funcion(n)}},"<< Anterior"))))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n,s=this;return Object(m.a)(this,a),(n=t.call(this,e)).regresar=function(e){n.setState({vista:1}),n.funcion_inicial()},n.lista_empleados=function(e,t){n.setState({tipo:e,empresa:t,vista:2})},n.reporte_empresa=function(e,t){n.setState({tipo:e,empresa:t,vista:3})},n.lista_datos=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/lista_reporte_administrador?id_empresa="+parseInt(t),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({lista_datos:o,vista:1}):400===s.status?window.ModalError("Reporte",o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,n.setState({state:a,auth_false:r}),s=n.state.state.usuario,n.setState({empresa:s.IdEmpresa}),e.next=10,n.lista_datos(s.IdEmpresa);case 10:case"end":return e.stop()}}),e)}))),n.link_reporte_empresa=function(e){return e.obj.total_contestado>0?r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",onClick:function(){return n.reporte_empresa(e.obj.Tipo,e.obj.IdEmpresa)},href:"/InnovAccionMeter2020/#"},e.obj.titulo)):r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",onClick:function(){return window.ModalError("Reporte","No hay datos")},href:"/InnovAccionMeter2020/#"},e.obj.titulo))},n.pagina_principal=function(){var e=n.state.lista_datos;return window.screen.width<720?r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 mb-4 text-gray-800 text-center"},e[0].NombreEmpresa),e.map((function(e,t){return r.a.createElement("div",{className:"row text-center p-4",key:t},r.a.createElement("div",{className:"col-6 bg-primary text-white",style:{border:"1px solid #c9c9c9"}},"Tipo Encuesta"),r.a.createElement("div",{className:"col-6",style:{border:"1px solid #c9c9c9"}},r.a.createElement(s.link_reporte_empresa,{obj:e})),r.a.createElement("div",{className:"col-6 bg-primary text-white",style:{border:"1px solid #c9c9c9"}},"Total Usuarios"),r.a.createElement("div",{className:"col-6",style:{border:"1px solid #c9c9c9"}},e.total),r.a.createElement("div",{className:"col-6 bg-primary text-white",style:{border:"1px solid #c9c9c9"}},"Encuestas Terminadas"),r.a.createElement("div",{className:"col-6",style:{border:"1px solid #c9c9c9"}},e.total_contestado),r.a.createElement("div",{className:"col-6 bg-primary text-white",style:{border:"1px solid #c9c9c9"}},"Accion"),r.a.createElement("div",{className:"col-6",style:{border:"1px solid #c9c9c9"}},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.lista_empleados(e.Tipo,n.state.empresa)}},"Ver encuestas"))))}))):r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 mb-4 text-gray-800 text-center"},e[0].NombreEmpresa),r.a.createElement("div",{className:"table-responsive p-4"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",{className:"text-center"},r.a.createElement("tr",{className:"bg-primary text-white h5"},r.a.createElement("th",null,"Tipo Encuesta"),r.a.createElement("th",null,"Total Usuarios"),r.a.createElement("th",null,"Encuestas Terminadas"),r.a.createElement("th",null,"Accion"))),r.a.createElement("tbody",null,e.map((function(e,t){return r.a.createElement("tr",{key:t,className:"h5"},r.a.createElement("td",null,r.a.createElement(s.link_reporte_empresa,{obj:e})),r.a.createElement("td",null,e.total),r.a.createElement("td",null,e.total_contestado),r.a.createElement("td",{className:"text-center"},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.lista_empleados(e.Tipo,n.state.empresa)}},"Ver encuestas"))))}))))))},a.contextType=K,n.state={vista:0,tipo:0,empresa:0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement("div",{id:"wrapper",className:""},r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement(x,null),1===this.state.vista?r.a.createElement(this.pagina_principal,null):2===this.state.vista?r.a.createElement(I,{usuario:this.state.state.usuario,tipo:this.state.tipo,empresa:this.state.empresa,funcion:this.regresar}):3===this.state.vista?r.a.createElement(g,{tipo_encuesta:this.state.tipo,id_usuario:0,id_empresa:this.state.empresa,funcion:this.regresar}):""),r.a.createElement("footer",{className:"sticky-footer bg-white"},r.a.createElement("div",{className:"container my-auto"},r.a.createElement("div",{className:"copyright text-center my-auto"},r.a.createElement("span",null,"Copyright \xa9 Best Place to Innovate")))))))}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n,s=this;return Object(m.a)(this,a),(n=t.call(this,e)).regresar=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({vista:0}),e.next=3,n.funcion_inicial();case 3:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/total_encuestas_empresas?tipo="+parseInt(t),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos:o,vista:1}):400===s.status?window.ModalError("Reporte",o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,n.setState({state:a,auth_false:r}),s=n.props.tipo,e.next=9,n.datos(s);case 9:case"end":return e.stop()}}),e)}))),n.reporte_empresa=function(e,t){n.setState({tipo:e,empresa:t,vista:3})},n.reporte_empleado=function(e,t){n.setState({tipo:e,empresa:t,vista:2})},n.link_reporte_empresa=function(e){return e.obj.total_contestado>0?r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",onClick:function(){n.reporte_empresa(e.tipo,e.obj.IdEmpresa)},href:"/InnovAccionMeter2020/#"},e.obj.NombreEmpresa)):r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",onClick:function(){return window.ModalError("Reporte","No hay datos")},href:"/InnovAccionMeter2020/#"},e.obj.NombreEmpresa))},n.link_reporte_empleado=function(e){return e.obj.total_contestado>0?r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",onClick:function(){n.reporte_empleado(e.tipo,e.obj.IdEmpresa)},href:"/InnovAccionMeter2020/#"},e.obj.total_contestado+" / "+e.obj.total)):r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",onClick:function(){return window.ModalError("Reporte","No hay datos")},href:"/InnovAccionMeter2020/#"},e.obj.total_contestado+" / "+e.obj.total))},n.pagina_principal=function(){var e=n.state.datos,t=n.props.tipo,a="",o="",c="",i="";return window.screen.width<720?(a="row bg-primary text-white text-center d-none",o="col-md-6 bg-primary text-white",c="col-md-6",i="row text-center py-4"):(a="row bg-primary text-white text-center",o="bg-primary text-white d-none",c="col-md py-2",i="row text-center"),r.a.createElement("div",{className:"px-2"},r.a.createElement("div",{className:a},r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Empresa"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Sigla"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Completas/Total")),e.map((function(e,a){return r.a.createElement("div",{className:i,key:a},r.a.createElement("div",{className:o,style:{border:"1px solid #c9c9c9"}},"Empresa"),r.a.createElement("div",{className:c,style:{border:"1px solid #c9c9c9"}},r.a.createElement(s.link_reporte_empresa,{tipo:t,obj:e})),r.a.createElement("div",{className:o,style:{border:"1px solid #c9c9c9"}},"Sigla"),r.a.createElement("div",{className:c,style:{border:"1px solid #c9c9c9"}},e.Sigla),r.a.createElement("div",{className:o,style:{border:"1px solid #c9c9c9"}},"Completas/Total"),r.a.createElement("div",{className:c,style:{border:"1px solid #c9c9c9"}},r.a.createElement(s.link_reporte_empleado,{tipo:t,obj:e})))})))},a.contextType=K,n.state={vista:0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):2===this.state.vista?r.a.createElement(I,{usuario:this.state.state.usuario,tipo:this.state.tipo,empresa:this.state.empresa,funcion:this.regresar}):3===this.state.vista?r.a.createElement(g,{tipo_encuesta:this.state.tipo,id_usuario:0,id_empresa:this.state.empresa,funcion:this.regresar}):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),C=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.validar_form=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m,d,u,p,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,r=!0,"EmpresaID",s={},o={},c=0,"m"!==n.props.tipo&&"n"!==n.props.tipo||(l=function(e,t){document.getElementById(t).className.includes("Encuesta90")||document.getElementById(t).className.includes("Encuesta180")||document.getElementById(t).className.includes("Encuesta270")||document.getElementById(t).className.includes("Encuesta360")?document.getElementById(document.getElementById(t).className.split(" ")[1]).checked?("R090"!==document.getElementById(e).elements[t].id&&"R180"!==document.getElementById(e).elements[t].id&&"R270"!==document.getElementById(e).elements[t].id&&"R360"!==document.getElementById(e).elements[t].id||(c+=parseInt(document.getElementById(e).elements[t].value.trim())),o[document.getElementById(t).className.split(" ")[1]]="S",""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),o[t]=document.getElementById(e).elements[t].value)):(o[document.getElementById(t).className.split(" ")[1]]="N",o[t]="0"):""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),o[t]=document.getElementById(e).elements[t].value)},Array.from(document.getElementById("EmpresaID").elements).filter((function(e){return"text"===e.type||"number"===e.type})).map((function(e){return l("EmpresaID",e.id),!0}))),100!==c&&(window.ModalError(n.state.titulo_principal,"La suma de los valores del campo peso (Resumen) no puede ser distinto de 100"),r=!1),!r){e.next=42;break}return e.prev=10,"m"!==n.props.tipo&&"n"!==n.props.tipo||(m=o.Fecha.split("/"),"m"===n.props.tipo&&(s.IdEmpresa=n.state.datos_empresa.IdEmpresa),"n"===n.props.tipo&&(o.Vigente="S"),o.Fecha=m[2]+"-"+m[1]+"-"+m[0],s.datos=o),"e"===n.props.tipo&&(s.IdEmpresa=n.state.datos_empresa.IdEmpresa),d="",(u=new Headers).append("Content-Type","application/json"),u.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),"m"===n.props.tipo&&(d="http://"+window.location.host.split(":")[0]+":60000/modificar_empresa"),"n"===n.props.tipo&&(d="http://"+window.location.host.split(":")[0]+":60000/crear_empresa"),"e"===n.props.tipo&&(d="http://"+window.location.host.split(":")[0]+":60000/eliminar_empresa"),e.next=22,fetch(d,{method:"POST",headers:u,body:JSON.stringify(s)});case 22:return p=e.sent,e.next=25,p.json();case 25:if(v=e.sent,200!==p.status){e.next=36;break}if("m"!==n.props.tipo){e.next=31;break}return window.ModalOk(n.state.titulo_principal,"Los datos de la empresa fueron modificados con exito"),e.next=31,n.datos_empresa(n.props.IdEmpresa);case 31:"n"===n.props.tipo&&(window.ModalOk(n.state.titulo_principal,"La empresa fue creada con exito"),n.props.funcion()),"e"===n.props.tipo&&(window.ModalOk(n.state.titulo_principal,"La empresa fue borrada con exito"),n.props.funcion()),window.RemoveClass(),e.next=37;break;case 36:400===p.status?window.ModalError(n.state.titulo_principal,v.error):n.state.auth_false();case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(10),window.ModalError(n.state.titulo_principal,e.t0.error);case 42:case"end":return e.stop()}}),e,null,[[10,39]])})));return function(t){return e.apply(this,arguments)}}(),n.carga_datos_empresa_default=function(){[17,17,17,17,16,16,25].map((function(e,t){var a=e;return Array.from(document.getElementsByName(t)).map((function(e){return document.getElementById(e.id).value=a,!0})),window.datepicket("Fecha"),!0}))},n.carga_datos_empresa=function(){for(var e in n.state.datos_empresa)if(null!==document.getElementById(e))if("checkbox"===document.getElementById(e).type)document.getElementById(e).checked="S"===n.state.datos_empresa[e];else if("Fecha"===e){var t=n.state.datos_empresa[e].split("T");t=t[0].split("-"),window.datepicket("Fecha"),document.getElementById(e).value=t[2]+"/"+t[1]+"/"+t[0]}else document.getElementById(e).value=n.state.datos_empresa[e]},n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:if(t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),"m"===n.props.tipo&&n.setState({titulo_principal:"Modifica Datos Empresa",boton:"Actualiza Empresa"}),"n"===n.props.tipo&&n.setState({titulo_principal:"Crea registro de Empresa",boton:"Crear Empresa"}),"e"===n.props.tipo&&n.setState({titulo_principal:"Borrar Empresa",boton:"Borrar Empresa"}),"m"!==n.props.tipo&&"e"!==n.props.tipo){e.next=13;break}return e.next=13,n.datos_empresa(n.props.IdEmpresa);case 13:return e.t0=n,e.next=16,1;case 16:e.t1=e.sent,e.t2={vista:e.t1},e.t0.setState.call(e.t0,e.t2),"m"===n.props.tipo||"e"===n.props.tipo?n.carga_datos_empresa():"n"===n.props.tipo&&n.carga_datos_empresa_default();case 20:case"end":return e.stop()}}),e)}))),n.boton_accion=function(e){e.preventDefault(),"m"!==n.props.tipo&&"n"!==n.props.tipo||n.validar_form(e),"e"===n.props.tipo&&n.state.tipo_warning((function(){return n.validar_form(e)}),n.state.titulo_principal,"\xbfEsta seguro que desea borrar la empresa?")},n.datos_empresa=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/datos_empresa?id="+parseInt(t),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos_empresa:o}):400===s.status?window.ModalError(n.state.titulo_principal,o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.pagina_principal=function(){var e="",t="",a="",s="",o="",c="";return window.screen.width<720?(e="",t="row bg-primary text-white text-center d-none",a="col-md-6 bg-primary text-white",s="col-md-6",o="col-md-6",c="row text-center py-4"):(e="w-50 mx-auto py-3",t="row bg-primary text-white text-center",a="bg-primary text-white d-none",s="col-md py-2",o="col-md-2 py-2",c="row text-center"),r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo_principal),r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior")),r.a.createElement("form",{id:"EmpresaID"},r.a.createElement("div",{className:e},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"NombreEmpresa"},"Nombre:"),r.a.createElement("input",{type:"text",className:"form-control",id:"NombreEmpresa"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Sigla"},"Sigla:"),r.a.createElement("input",{type:"text",className:"form-control",id:"Sigla"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Contacto"},"Contacto:"),r.a.createElement("input",{type:"text",className:"form-control",id:"Contacto"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Correo"},"Correo:"),r.a.createElement("input",{type:"text",className:"form-control",id:"Correo"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Fecha"},"Fec.Seguimiento:"),r.a.createElement("input",{type:"text",className:"form-control",id:"Fecha",readOnly:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio"))),r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:t},r.a.createElement("div",{className:"col-md-2 py-2",style:{border:"1px solid #c9c9c9"}},"Tipo Encuesta:"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"ICC (Resultados Innovaci\xf3n)"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Prop\xf3sito, Objetivo, Estrategia"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Liderazgo Inspirador"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Estructuras Habilitadoras"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Sistemas Consistentes & Confiables"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Cultura Conectada"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"RESUMEN")),r.a.createElement("div",{className:c},r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Tipo Encuesta:"),r.a.createElement("div",{className:o,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-check text-left"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"Encuesta90"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Encuesta90"},"Equipo Gerencial (90\xb0)"))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"ICC (Resultados Innovaci\xf3n)"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"0",className:"form-control Encuesta90",id:"P0901"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Prop\xf3sito, Objetivo, Estrategia"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"1",className:"form-control Encuesta90",id:"P0902"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Liderazgo Inspirador"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"2",className:"form-control Encuesta90",id:"P0903"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Estructuras Habilitadoras"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"3",className:"form-control Encuesta90",id:"P0904"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Sistemas Consistentes & Confiables"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"4",className:"form-control Encuesta90",id:"P0905"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Cultura Conectada"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"5",className:"form-control Encuesta90",id:"P0906"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"RESUMEN"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"6",className:"form-control Encuesta90",id:"R090"})))),r.a.createElement("div",{className:c},r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Tipo Encuesta:"),r.a.createElement("div",{className:o,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-check text-left"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"Encuesta180"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Encuesta180"},"Colaboradores (180\xb0)"))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"ICC (Resultados Innovaci\xf3n)"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"0",className:"form-control Encuesta180",id:"P1801"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Prop\xf3sito, Objetivo, Estrategia"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"1",className:"form-control Encuesta180",id:"P1802"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Liderazgo Inspirador"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"2",className:"form-control Encuesta180",id:"P1803"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Estructuras Habilitadoras"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"3",className:"form-control Encuesta180",id:"P1804"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Sistemas Consistentes & Confiables"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"4",className:"form-control Encuesta180",id:"P1805"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Cultura Conectada"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"5",className:"form-control Encuesta180",id:"P1806"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"RESUMEN"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"6",className:"form-control Encuesta180",id:"R180"})))),r.a.createElement("div",{className:c},r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Tipo Encuesta:"),r.a.createElement("div",{className:o,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-check text-left"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"Encuesta270"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Encuesta270"},"Proveedores (270\xb0)"))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"ICC (Resultados Innovaci\xf3n)"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"0",className:"form-control Encuesta270",id:"P2701"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Prop\xf3sito, Objetivo, Estrategia"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"1",className:"form-control Encuesta270",id:"P2702"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Liderazgo Inspirador"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"2",className:"form-control Encuesta270",id:"P2703"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Estructuras Habilitadoras"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"3",className:"form-control Encuesta270",id:"P2704"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Sistemas Consistentes & Confiables"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"4",className:"form-control Encuesta270",id:"P2705"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Cultura Conectada"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"5",className:"form-control Encuesta270",id:"P2706"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"RESUMEN"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"6",className:"form-control Encuesta270",id:"R270"})))),r.a.createElement("div",{className:c},r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Tipo Encuesta:"),r.a.createElement("div",{className:o,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-check text-left"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"Encuesta360"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Encuesta360"},"Clientes (360\xb0)"))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"ICC (Resultados Innovaci\xf3n)"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"0",className:"form-control Encuesta360",id:"P3601"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Prop\xf3sito, Objetivo, Estrategia"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"1",className:"form-control Encuesta360",id:"P3602"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Liderazgo Inspirador"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"2",className:"form-control Encuesta360",id:"P3603"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Estructuras Habilitadoras"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"3",className:"form-control Encuesta360",id:"P3604"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Sistemas Consistentes & Confiables"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"4",className:"form-control Encuesta360",id:"P3605"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Cultura Conectada"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"5",className:"form-control Encuesta360",id:"P3606"}))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"RESUMEN"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"6",className:"form-control Encuesta360",id:"R360"})))))),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.boton_accion},n.state.boton)),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},a.contextType=K,n.state={vista:0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,n.props.datos;case 3:e.t1=e.sent,e.t2={datos:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)}))),n.cargar_datos=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in n.state.datos)null!==document.getElementById(t)&&(document.getElementById(t).value=n.state.datos[t]);case 1:case"end":return e.stop()}}),e)}))),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),"m"===n.props.tipo&&n.setState({titulo_principal:"Modificar Datos Usuario",boton:"Actualiza Usuario"}),"n"===n.props.tipo&&n.setState({titulo_principal:"Crea registro de Usuario",boton:"Crear Usuario"}),"e"===n.props.tipo&&n.setState({titulo_principal:"Borrar Usuario",boton:"Borrar Usuario"}),e.next=12,n.datos();case 12:n.setState({vista:1}),"e"!==n.props.tipo&&"m"!==n.props.tipo||n.cargar_datos();case 14:case"end":return e.stop()}}),e)}))),n.validar_form=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e,t){""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),c[t]=document.getElementById(e).elements[t].value)},t.preventDefault(),a=!0,r=!0,s="FormUsuario",o={},c={},"m"!==n.props.tipo&&"n"!==n.props.tipo||Array.from(document.getElementById(s).elements).filter((function(e){return!0===e.className.includes("requerido")})).map((function(e){return l(s,e.id)})),c.Fono=document.getElementById(s).elements.Fono.value,!r){e.next=33;break}return e.prev=10,"m"===n.props.tipo&&(o.Id=n.state.datos.Id,o.datos=c),"n"===n.props.tipo&&(o.IdEmpresa=n.state.datos.IdEmpresa,o.Sigla=n.state.datos.Sigla,o.TipoUsuario=n.state.datos.tipo_encuesta,o.datos=c),"e"===n.props.tipo&&(o.Id=n.state.datos.Id,o.TipoUsuario=n.state.datos.TipoUsuario),m="",(d=new Headers).append("Content-Type","application/json"),d.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),"m"===n.props.tipo&&(m="http://"+window.location.host.split(":")[0]+":60000/modificar_usuario"),"n"===n.props.tipo&&(m="http://"+window.location.host.split(":")[0]+":60000/crear_usuario"),"e"===n.props.tipo&&(m="http://"+window.location.host.split(":")[0]+":60000/borrar_usuario"),e.next=23,fetch(m,{method:"POST",headers:d,body:JSON.stringify(o)});case 23:return u=e.sent,e.next=26,u.json();case 26:p=e.sent,200===u.status?("m"===n.props.tipo&&(window.ModalOk(n.state.titulo_principal,"Los datos del usuario fueron modificados con exito"),n.props.funcion()),"n"===n.props.tipo&&(window.ModalOk(n.state.titulo_principal,"El Usuario fue creado con exito"),document.getElementById(s).reset()),"e"===n.props.tipo&&(window.ModalOk(n.state.titulo_principal,"El Usuario fue borrada con exito"),n.props.funcion()),window.RemoveClass()):400===u.status?window.ModalError(n.state.titulo_principal,p.error):n.state.auth_false(),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(10),window.ModalError(n.state.titulo_principal,e.t0.error);case 33:case"end":return e.stop()}}),e,null,[[10,30]])})));return function(t){return e.apply(this,arguments)}}(),n.boton_accion=function(e){e.preventDefault(),"m"!==n.props.tipo&&"n"!==n.props.tipo||n.validar_form(e),"e"===n.props.tipo&&n.state.tipo_warning((function(){return n.validar_form(e)}),n.state.titulo_principal,"\xbfEsta seguro que desea borrar el usuario?")},n.pagina_principal=function(){var e="";return e=window.screen.width<720?"":"w-50 mx-auto py-3",r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo_principal),r.a.createElement("form",{className:e,id:"FormUsuario"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Nombre"},"Nombre:"),r.a.createElement("input",{type:"text",className:"form-control requerido",id:"Nombre"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Fono"},"Fono:"),r.a.createElement("input",{type:"text",className:"form-control",id:"Fono"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Correo"},"Correo:"),r.a.createElement("input",{type:"email",className:"form-control requerido",id:"Correo"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Version"},"Versi\xf3n:"),r.a.createElement("select",{className:"form-control requerido",id:"Version",defaultValue:"3"},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3")),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio"))),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.boton_accion},n.state.boton)),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},a.contextType=K,n.state={vista:0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),a="http://"+window.location.host.split(":")[0]+":60000/datos_eliminar_usuarios?IdEmpresa="+parseInt(n.props.datos.IdEmpresa)+"&tipo_encuesta="+parseInt(n.props.datos.tipo_encuesta),e.next=7,fetch(a,{method:"GET",headers:t});case 7:return r=e.sent,e.next=10,r.json();case 10:s=e.sent,200===r.status?n.setState({vista:1,EncuestaNoIniciada:s[0].C,EncuestaIncompleta:s[1].C,EncuestaFinalizada:s[2].C}):400===r.status?window.ModalError("Usuarios",s.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Usuarios",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),e.next=9,n.datos();case 9:case"end":return e.stop()}}),e)}))),n.pagina_principal=function(){var e="";return e=window.screen.width<720?"":"w-50 mx-auto py-3",r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,"Empresa:")),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,r.a.createElement("b",null,n.props.datos.NombreEmpresa)))),r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,"Contacto:")),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,r.a.createElement("b",null,n.props.datos.Contacto)))),r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,"# Encuestas Terminada:")),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,r.a.createElement("b",null,n.state.EncuestaFinalizada)))),r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,"# Encuestas Parciales:")),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,r.a.createElement("b",null,n.state.EncuestaIncompleta)))),r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,"# Encuestas sin Comenzar:")),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,r.a.createElement("b",null,n.state.EncuestaNoIniciada)))),r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,"Cantidad de Usuarios:")),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("h4",null,r.a.createElement("b",null,n.state.EncuestaNoIniciada+n.state.EncuestaFinalizada+n.state.EncuestaIncompleta))))),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:function(){return n.state.tipo_warning(n.eliminar_usuarios,n.state.titulo,"\xbfEsta seguro que desea borrar los usuarios?")}},n.state.titulo)),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},n.eliminar_usuarios=Object(l.a)(i.a.mark((function e(){var t,a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),(a={}).IdEmpresa=n.props.datos.IdEmpresa,a.TipoUsuario=n.props.datos.tipo_encuesta,r="http://"+window.location.host.split(":")[0]+":60000/eliminar_usuarios",e.next=10,fetch(r,{method:"POST",headers:t,body:JSON.stringify(a)});case 10:return s=e.sent,e.next=13,s.json();case 13:o=e.sent,200===s.status?(window.ModalOk(n.state.titulo,"Los usuario fueron borrados con exito"),n.props.funcion()):400===s.status?window.ModalError(n.state.titulo,o.error):n.state.auth_false(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),window.ModalError(n.state.titulo,e.t0.error);case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),a.contextType=K,n.state={vista:0,titulo:"Borrar usuarios"},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.obtener_correo=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/obtener_correo",e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos_correo:o}):400===s.status?window.ModalError(n.state.titulo_principal,o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.datos=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/datos_empresa?id="+parseInt(t),e.next=7,fetch(s,{method:"GET",headers:a});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,200!==o.status){e.next=22;break}return s="http://"+window.location.host.split(":")[0]+":60000/email_text_bienvenida",e.next=15,fetch(s,{method:"GET",headers:a});case 15:return o=e.sent,e.next=18,o.json();case 18:r=e.sent,n.setState({datos_empresa:c,contenido_email:r[0].contenido,vista:1}),e.next=23;break;case 22:400===o.status?window.ModalError(n.state.titulo_principal,c.error):n.state.auth_false();case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t){return e.apply(this,arguments)}}(),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),e.next=9,n.obtener_correo();case 9:return e.next=11,n.datos(n.props.datos.IdEmpresa);case 11:case"end":return e.stop()}}),e)}))),n.validar_form=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m,d,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),o[t]=document.getElementById(e).elements[t].value)},t.preventDefault(),a=!0,r=!0,s="EnviarInvitacionesForm",o={},Array.from(document.getElementById(s).elements).filter((function(e){return!0===e.className.includes("requerido")})).map((function(e){return c(s,e.id),!0})),!r){e.next=28;break}return e.prev=8,o.empresa=n.state.datos_empresa,o.datos=n.props.datos.usuarios,o.cotenido_email=n.state.contenido_email,(l=new Headers).append("Content-Type","application/json"),l.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),m="http://"+window.location.host.split(":")[0]+":60000/enviar_invitaciones",e.next=18,fetch(m,{method:"POST",headers:l,body:JSON.stringify(o)});case 18:return d=e.sent,e.next=21,d.json();case 21:u=e.sent,200===d.status?(window.ModalOk(n.state.titulo_principal,"Las invitaciones fueron enviadas con exito"),window.RemoveClass(),n.props.funcion()):400===d.status?window.ModalError(n.state.titulo_principal,u.error):n.state.auth_false(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(8),window.ModalError(n.state.titulo_principal,e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[8,25]])})));return function(t){return e.apply(this,arguments)}}(),n.pagina_principal=function(){var e="";e=window.screen.width<720?"":"w-50 mx-auto py-3";var t=n.state.datos_empresa;return r.a.createElement("div",{className:e},r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo_principal),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Empresa:"),r.a.createElement("div",{className:"col-md-6"},t.NombreEmpresa)),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Contacto Empresa:"),r.a.createElement("div",{className:"col-md-6"},t.Contacto)),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Mail Contacto:"),r.a.createElement("div",{className:"col-md-6"},t.correo_contacto)),r.a.createElement("hr",null),r.a.createElement("label",{className:"py-3"},r.a.createElement("u",null,r.a.createElement("b",null,"REMITENTE:"))),r.a.createElement("form",{id:"EnviarInvitacionesForm"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Nombre"},"Nombre:"),r.a.createElement("input",{type:"text",className:"form-control requerido",id:"Nombre",defaultValue:n.state.datos_correo[0].nombre}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Correo"},"Correo:"),r.a.createElement("input",{type:"text",className:"form-control requerido",id:"Correo",defaultValue:n.state.datos_correo[0].correo}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Correo"},"Texto del Correo:"),r.a.createElement("textarea",{className:"form-control requerido",rows:"5",id:"TextEmail",defaultValue:n.state.contenido_email}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio"))),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.validar_form},"Enviar Invitaciones")),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},a.contextType=K,n.state={vista:0,titulo_principal:"Envio mail de Invitaci\xf3n"},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),B=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.obtener_cuerpo_correo=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/obtener_cuerpo_correo",e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({cuerpo_correo:o}):400===s.status?window.ModalError(n.state.titulo_principal,o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.enviar_correo_ultimatum=Object(l.a)(i.a.mark((function e(){var t,a,r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,a={},window.RemoveClass(),window.RemoveInvalid(),document.getElementById("c1").checked?(a.correo="0",a.contenido=""):(document.getElementById("c2").checked&&(""===document.getElementById("1").value.trim()?(document.getElementById("1").classList.add("is-invalid"),t=!1):(a.correo="1",a.contenido=document.getElementById("1").value.trim())),document.getElementById("c3").checked&&(""===document.getElementById("2").value.trim()?(document.getElementById("2").classList.add("is-invalid"),t=!1):(a.correo="2",a.contenido=document.getElementById("2").value.trim()))),!t){e.next=26;break}return e.prev=6,document.getElementById("Modal_UltimatumForm").reset(),a.empresa=n.props.datos.empresa,a.usuario=n.props.datos.usuario.Id,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/enviar_ultimatum",e.next=16,fetch(s,{method:"POST",headers:r,body:JSON.stringify(a)});case 16:return o=e.sent,e.next=19,o.json();case 19:c=e.sent,200===o.status?(window.ModalOk(n.state.titulo_principal,"El correo de Ultimatum fue enviado con exito"),window.RemoveClass(),window.closemodal("Modal_Ultimatum"),n.props.funcion()):400===o.status?window.ModalError(n.state.titulo_principal,c.error):n.state.auth_false(),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),window.ModalError(n.state.titulo_principal,e.t0.error);case 26:case"end":return e.stop()}}),e,null,[[6,23]])}))),n.pagina_principal=function(){var e="Esperamos que este bien. Quer\xedamos comentarle que estamos pr\xf3ximos a cerrar el diagn\xf3stico de potencial innovador y capacidad de gesti\xf3n de la innovaci\xf3n de la "+n.props.datos.empresa.NombreEmpresa+". Nos encantar\xeda si antes de cerrarse el diagn\xf3stico pudi\xe9semos contar con su opini\xf3n la que seguramente ser\xe1 de mucho valor en el trabajo que se est\xe1 haciendo.";return r.a.createElement("div",{id:"Modal_Ultimatum",className:"modal fade"},r.a.createElement("div",{className:"modal-dialog modal-confirm"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title",id:"Modal_UltimatumTitle"},"Seleccionar Cuerpo del Correo a Enviar")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"alert alert-success",role:"alert"},"El texto seleccionado en esta ventana es solo el contenido del correo, el saludo al usuario y la firma del correo se generan automaticamente."),r.a.createElement("form",{id:"Modal_UltimatumForm"},r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6 py-2 my-auto"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"c1",value:"0",defaultChecked:!0}),r.a.createElement("label",{className:"form-check-label",htmlFor:"c1"},"Correo por Defecto"))),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",rows:"5",id:"0",defaultValue:e,readOnly:!0}))),r.a.createElement("div",{className:"col-md-6 py-2 my-auto"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"c2",value:"1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"c2"},"Correo Personalizado 1"))),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",rows:"5",id:"1"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio"))),r.a.createElement("div",{className:"col-md-6 py-2 my-auto"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"c3",value:"2"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"c3"},"Correo Personalizado 2"))),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",rows:"5",id:"2"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio"))))),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-primary btn-user btn-block",onClick:function(){return n.enviar_correo_ultimatum()}},"Enviar")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-secondary btn-user btn-block","data-dismiss":"modal"},"Cerrar")))))))},n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),e.next=9,n.obtener_cuerpo_correo();case 9:n.setState({vista:1}),n.state.cuerpo_correo.map((function(e){return document.getElementById(e.id).value=e.contenido}));case 11:case"end":return e.stop()}}),e)}))),a.contextType=K,n.state={vista:0,titulo_principal:"Envio mail de Ultimatum"},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):"")}}]),a}(n.Component),R=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.obtener_correo=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/obtener_correo",e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos_correo:o}):400===s.status?window.ModalError(n.state.titulo_principal,o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.datos=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/datos_empresa?id="+parseInt(t),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?((c={}).usuario=n.state.usuario,c.empresa=o,n.setState({datos_empresa:o,vista:1,datos:c})):400===s.status?window.ModalError(n.state.titulo_principal,o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),n.setState({usuario:n.props.datos.usuario}),e.next=10,n.obtener_correo();case 10:return e.next=12,n.datos(n.props.datos.IdEmpresa);case 12:case"end":return e.stop()}}),e)}))),n.validar_form=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e,t){""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),s[t]=document.getElementById(e).elements[t].value)},t.preventDefault(),a=!0,r=!0,"EnviarUltimatumForm",s={},Array.from(document.getElementById("EnviarUltimatumForm").elements).filter((function(e){return!0===e.className.includes("requerido")})).map((function(e){return o("EnviarUltimatumForm",e.id),!0})),r)try{window.ModalUltimatum()}catch(t){window.ModalError(n.state.titulo_principal,t.error)}case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pagina_principal=function(){var e="";e=window.screen.width<720?"":"w-50 mx-auto py-3";var t=n.state.datos_empresa,a=n.state.usuario;return r.a.createElement("div",{className:e},r.a.createElement(B,{datos:n.state.datos,funcion:n.props.funcion}),r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo_principal),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Empresa:"),r.a.createElement("div",{className:"col-md-6"},t.NombreEmpresa)),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Usuario:"),r.a.createElement("div",{className:"col-md-6"},a.Nombre)),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Mail Usuario:"),r.a.createElement("div",{className:"col-md-6"},a.Correo)),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Contacto Empresa:"),r.a.createElement("div",{className:"col-md-6"},t.Contacto)),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 text-dark"},"Mail Contacto:"),r.a.createElement("div",{className:"col-md-6"},t.correo_contacto)),r.a.createElement("hr",null),r.a.createElement("label",{className:"py-3"},r.a.createElement("u",null,r.a.createElement("b",null,"REMITENTE:"))),r.a.createElement("form",{id:"EnviarUltimatumForm"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Nombre"},"Nombre:"),r.a.createElement("input",{type:"text",className:"form-control requerido",id:"Nombre",readOnly:!0,defaultValue:n.state.datos_correo[0].nombre}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Correo"},"Correo:"),r.a.createElement("input",{type:"text",className:"form-control requerido",id:"Correo",readOnly:!0,defaultValue:n.state.datos_correo[0].correo}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio"))),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.validar_form},"Enviar Ultimatum")),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},a.contextType=K,n.state={vista:0,titulo_principal:"Envio mail de Ultimatum"},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.regresar=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({vista:0}),e.next=3,n.funcion_inicial();case 3:case"end":return e.stop()}}),e)}))),n.datos=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),a="http://"+window.location.host.split(":")[0]+":60000/usuarios_empresa?IdEmpresa="+parseInt(n.props.IdEmpresa)+"&tipo_encuesta="+parseInt(n.props.tipo_encuesta),e.next=7,fetch(a,{method:"GET",headers:t});case 7:return r=e.sent,e.next=10,r.json();case 10:s=e.sent,200===r.status?n.setState({datos:s,vista:1}):400===r.status?window.ModalError("Usuarios",s.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Usuarios",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,n.setState({state:a,auth_false:r}),e.next=8,n.datos();case 8:case"end":return e.stop()}}),e)}))),n.pagina_principal=function(){var e=n.state.datos,t="",a="",s="",o="",c="";return window.screen.width<720?(t="row bg-primary text-white text-center d-none",a="col-md-6 bg-primary text-white",s="col-md-6",c="col-md-6",o="row text-center py-4"):(t="row bg-primary text-white text-center",a="bg-primary text-white d-none",s="col-1 py-2",c="col-3 py-2",o="row text-center"),r.a.createElement("div",{className:"px-2"},r.a.createElement("div",{className:"d-flex justify-content-center py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior")),r.a.createElement("h1",{className:"h3 my-4 text-gray-800 text-center"},"Usuarios: ",n.props.NombreEmpresa),r.a.createElement("h1",{className:"h3 my-4 text-gray-800 text-center"},r.a.createElement("i",{className:"far fa-trash-alt",onClick:function(){return n.eliminar_usuarios(n.props.IdEmpresa,n.props.tipo_encuesta,n.props.NombreEmpresa,n.props.Contacto)}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 py-3 text-center"},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.crear_usuario(n.props.IdEmpresa,n.props.tipo_encuesta,n.props.Sigla)}},"--- Crea Nuevo Usuario ---"))),r.a.createElement("div",{className:"col-md-6 py-3 text-center"},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.enviar_invitaciones();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},"---Envia Invitaciones ---")))),r.a.createElement("div",{className:t},r.a.createElement("div",{className:"col-1 py-2",style:{border:"1px solid #c9c9c9"}},"#"),r.a.createElement("div",{className:"col-1 py-2",style:{border:"1px solid #c9c9c9"}},"Acci\xf3n"),r.a.createElement("div",{className:"col-3 py-2",style:{border:"1px solid #c9c9c9"}},"Nombre"),r.a.createElement("div",{className:"col-1 py-2",style:{border:"1px solid #c9c9c9"}},"Fono"),r.a.createElement("div",{className:"col-3 py-2",style:{border:"1px solid #c9c9c9"}},"Correo"),r.a.createElement("div",{className:"col-1 py-2",style:{border:"1px solid #c9c9c9"}},"Ver."),r.a.createElement("div",{className:"col-1 py-2",style:{border:"1px solid #c9c9c9"}},"Status"),r.a.createElement("div",{className:"col-1 py-2",style:{border:"1px solid #c9c9c9"}},"Ultimatum")),e.map((function(e,t){return r.a.createElement("div",{className:o,key:t},r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"#"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},t+1),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Acci\xf3n"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("i",{className:"far fa-trash-alt",onClick:function(){return n.borrar_usuario(e)}})),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Nombre"),r.a.createElement("div",{className:c,style:{border:"1px solid #c9c9c9"}},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.modifcar_usuario(e)}},e.Nombre))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Fono"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},e.Fono),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Correo"),r.a.createElement("div",{className:c,style:{border:"1px solid #c9c9c9"}},e.Correo),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Ver."),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},"V."+e.Version),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Status"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("font",{size:"2"},"0"===e.status?"Encuesta Sin Comenzar":"1"===e.status?"Encuesta Incompleta":"Encuesta Finalizada")),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Ultimatum"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("font",{size:"2"},n.ultimatum(e))))})),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-12 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},a.contextType=K,n.state={vista:0},n}return Object(d.a)(a,[{key:"ultimatum",value:function(e){var t=this;return"1"===e.status?r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return t.enviar_ultimatum(e)}},"Envia Ultimatum")):""}},{key:"modifcar_usuario",value:function(e){this.setState({usuario:e,tipo:"m",vista:2})}},{key:"crear_usuario",value:function(e,t,a){var n={};n.IdEmpresa=e,n.tipo_encuesta=t,n.Sigla=a,this.setState({usuario:n,tipo:"n",vista:2})}},{key:"borrar_usuario",value:function(e){this.setState({usuario:e,tipo:"e",vista:2})}},{key:"eliminar_usuarios",value:function(e,t,a,n){var r={};r.IdEmpresa=e,r.tipo_encuesta=t,r.NombreEmpresa=a,r.Contacto=n,this.setState({usuario:r,vista:3})}},{key:"enviar_ultimatum",value:function(e){var t={};t.IdEmpresa=this.props.IdEmpresa,t.usuario=e,this.setState({usuario:t,vista:5})}},{key:"enviar_invitaciones",value:function(){var e={};e.IdEmpresa=this.props.IdEmpresa,e.usuarios=this.state.datos.filter((function(e){return"0"===e.status})),this.setState({usuario:e,vista:4})}},{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):2===this.state.vista?r.a.createElement(O,{tipo:this.state.tipo,datos:this.state.usuario,funcion:this.regresar}):3===this.state.vista?r.a.createElement(M,{datos:this.state.usuario,funcion:this.regresar}):4===this.state.vista?r.a.createElement(T,{datos:this.state.usuario,funcion:this.regresar}):5===this.state.vista?r.a.createElement(R,{datos:this.state.usuario,funcion:this.regresar}):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component);function F(e){return e<51?"text-center text-white bg-danger":e>=51&&e<70?"text-center text-white bg-warning":e>=10?"text-center text-white bg-success":void 0}var P=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/informe_resumen",e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos:o,vista:1}):400===s.status?(window.ModalError(n.state.titulo_principal,o.error),n.setState({datos:[],vista:1})):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),e.next=9,n.datos();case 9:case"end":return e.stop()}}),e)}))),n.pagina_principal=function(){var e="",t="",a="";return window.screen.width>=720&&(e="first-column",t="second-column",a="third-column"),r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo_principal),r.a.createElement("div",{className:"table-responsive",style:{height:"500px"}},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("caption",{style:{captionSide:"top"}},"Deslice a la Derecha"),r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center text-dark"},r.a.createElement("th",{scope:"col",className:e},"Empresa"),r.a.createElement("th",{scope:"col",className:t},"Contacto"),r.a.createElement("th",{scope:"col",className:a},"Seguimiento"),r.a.createElement("th",{scope:"col"},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-12"},"90\xb0")),r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},"OK"),r.a.createElement("div",{className:"col-4"},"BD"),r.a.createElement("div",{className:"col-4"},"%"))),r.a.createElement("th",{scope:"col"},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-12"},"180\xb0")),r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},"OK"),r.a.createElement("div",{className:"col-4"},"BD"),r.a.createElement("div",{className:"col-4"},"%"))),r.a.createElement("th",{scope:"col"},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-12"},"Sub Tot Int")),r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},"OK"),r.a.createElement("div",{className:"col-4"},"BD"),r.a.createElement("div",{className:"col-4"},"%"))),r.a.createElement("th",{scope:"col"},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-12"},"270\xb0")),r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},"OK"),r.a.createElement("div",{className:"col-4"},"BD"),r.a.createElement("div",{className:"col-4"},"%"))),r.a.createElement("th",{scope:"col"},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-12"},"360\xb0")),r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},"OK"),r.a.createElement("div",{className:"col-4"},"BD"),r.a.createElement("div",{className:"col-4"},"%"))),r.a.createElement("th",{scope:"col"},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-12"},"Sub Tot Int")),r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},"OK"),r.a.createElement("div",{className:"col-4"},"BD"),r.a.createElement("div",{className:"col-4"},"%"))),r.a.createElement("th",{scope:"col"},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-12"},"Total")),r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},"OK"),r.a.createElement("div",{className:"col-4"},"BD"),r.a.createElement("div",{className:"col-4"},"%"))))),r.a.createElement("tbody",null,n.state.datos.map((function(n,s){var o=0===n.total90?0:(n.cuenta90/n.total90*100).toFixed(0),c=0===n.total180?0:(n.cuenta180/n.total180*100).toFixed(0),i=n.cuenta90+n.cuenta180,l=n.total90+n.total180,m=0===l?0:(i/l*100).toFixed(0),d=0===n.total270?0:(n.cuenta270/n.total270*100).toFixed(0),u=0===n.total360?0:(n.cuenta360/n.total360*100).toFixed(0),p=n.cuenta270+n.cuenta360,v=n.total270+n.total360,E=0===v?0:(p/v*100).toFixed(0),f=i+p,h=l+v,b=0===h?0:(f/h*100).toFixed(0);return r.a.createElement("tr",{key:s},r.a.createElement("td",{className:e},n.NombreEmpresa),r.a.createElement("td",{className:t},n.Contacto),r.a.createElement("td",{className:a},n.Fecha.split("T")[0].split("-")[2]+"/"+n.Fecha.split("T")[0].split("-")[1]+"/"+n.Fecha.split("T")[0].split("-")[0]),r.a.createElement("td",{className:F(o)},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},n.cuenta90),r.a.createElement("div",{className:"col-4"},n.total90),r.a.createElement("div",{className:"col-4"},o+"%"))),r.a.createElement("td",{className:F(c)},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},n.cuenta180),r.a.createElement("div",{className:"col-4"},n.total180),r.a.createElement("div",{className:"col-4"},c+"%"))),r.a.createElement("td",{className:F(m)},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},i),r.a.createElement("div",{className:"col-4"},l),r.a.createElement("div",{className:"col-4"},m+"%"))),r.a.createElement("td",{className:F(d)},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},n.cuenta270),r.a.createElement("div",{className:"col-4"},n.total270),r.a.createElement("div",{className:"col-4"},d+"%"))),r.a.createElement("td",{className:F(u)},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},n.cuenta360),r.a.createElement("div",{className:"col-4"},n.total360),r.a.createElement("div",{className:"col-4"},u+"%"))),r.a.createElement("td",{className:F(E)},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},p),r.a.createElement("div",{className:"col-4"},v),r.a.createElement("div",{className:"col-4"},E+"%"))),r.a.createElement("td",{className:F(b)},r.a.createElement("div",{className:"row",style:{width:"200px"}},r.a.createElement("div",{className:"col-4"},f),r.a.createElement("div",{className:"col-4"},h),r.a.createElement("div",{className:"col-4"},b+"%"))))}))))),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-12 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},a.contextType=K,n.state={vista:0,titulo_principal:"Informe Resumen"},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).Style=function(e){return e<6?"badge badge-pill badge-danger px-2 py-1":e>=6&&e<8?"badge badge-pill badge-warning px-2 py-1":e>=8?"badge badge-pill badge-success px-2 py-1":void 0},n.resultados_innovacion=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,s,o,c,l,m,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s=[],o=n.state.datos_empresa,s.push(o.R090),s.push(o.R180),s.push(o.R270),s.push(o.R360),n.setState({peso_empresa:s}),c="http://"+window.location.host.split(":")[0]+":60000/resultados_innovacion?user="+parseInt(0)+"&empresa="+parseInt(t)+"&tipo="+parseInt(a),e.next=14,fetch(c,{method:"GET",headers:r});case 14:return l=e.sent,e.next=17,l.json();case 17:if(m=e.sent,200!==l.status){e.next=23;break}return d=m,e.abrupt("return",d);case 23:if(400!==l.status){e.next=28;break}return window.ModalError("Reporte",m.error),e.abrupt("return",{});case 28:return n.state.auth_false(),e.abrupt("return",{});case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 35:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(t,a){return e.apply(this,arguments)}}(),n.proposito=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/proposito?user="+parseInt(0)+"&empresa="+parseInt(t)+"&tipo="+parseInt(a),e.next=7,fetch(s,{method:"GET",headers:r});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,200!==o.status){e.next=16;break}return l=c,e.abrupt("return",l);case 16:if(400!==o.status){e.next=21;break}return window.ModalError("Reporte",c.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a){return e.apply(this,arguments)}}(),n.liderazgo=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/liderazgo?user="+parseInt(0)+"&empresa="+parseInt(t)+"&tipo="+parseInt(a),e.next=7,fetch(s,{method:"GET",headers:r});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,200!==o.status){e.next=16;break}return l=c,e.abrupt("return",l);case 16:if(400!==o.status){e.next=21;break}return window.ModalError("Reporte",c.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a){return e.apply(this,arguments)}}(),n.estructuras_habilitadoras=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/estructuras_habilitadoras?user="+parseInt(0)+"&empresa="+parseInt(t)+"&tipo="+parseInt(a),e.next=7,fetch(s,{method:"GET",headers:r});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,200!==o.status){e.next=16;break}return l=c,e.abrupt("return",l);case 16:if(400!==o.status){e.next=21;break}return window.ModalError("Reporte",c.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a){return e.apply(this,arguments)}}(),n.sistemas_consistentes=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/sistemas_consistentes?user="+parseInt(0)+"&empresa="+parseInt(t)+"&tipo="+parseInt(a),e.next=7,fetch(s,{method:"GET",headers:r});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,200!==o.status){e.next=16;break}return l=c,e.abrupt("return",l);case 16:if(400!==o.status){e.next=21;break}return window.ModalError("Reporte",c.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a){return e.apply(this,arguments)}}(),n.cultura_conectada=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),s="http://"+window.location.host.split(":")[0]+":60000/cultura_conectada?user="+parseInt(0)+"&empresa="+parseInt(t)+"&tipo="+parseInt(a),e.next=7,fetch(s,{method:"GET",headers:r});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,200!==o.status){e.next=16;break}return l=c,e.abrupt("return",l);case 16:if(400!==o.status){e.next=21;break}return window.ModalError("Reporte",c.error),e.abrupt("return",{});case 21:return n.state.auth_false(),e.abrupt("return",{});case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a){return e.apply(this,arguments)}}(),n.datos_empresa=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/datos_empresa?id="+parseInt(t),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos_empresa:o}):400===s.status?window.ModalError("Reporte",o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.reporte_final=function(e,t){var a=0,r=0,s={},o=[];if(1===t){for(var c in s.titulo="ICC (Resultados Innovaci\xf3n)",e)if(e[c]>0){var i,l;i=n.state.resultados[c],l=e[c],o.push(JSON.stringify({pregunta:i,resultado:l})),a+=e[c],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(2===t){for(var m in s.titulo="Prop\xf3sito, Objetivo, Estrategia",e)if(e[m]>0){var d,u;d=n.state.proposito[m-1],u=e[m],o.push(JSON.stringify({pregunta:d,resultado:u})),a+=e[m],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(3===t){for(var p in s.titulo="Liderazgo Inspirador",e)if(e[p]>0){var v,E;v=n.state.liderazgo[p-1],E=e[p],o.push(JSON.stringify({pregunta:v,resultado:E})),a+=e[p],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(4===t){for(var f in s.titulo="Estructuras Habilitadoras",e)if(e[f]>0){var h,b;h=n.state.estructuras_habilitadoras[f-1],b=e[f],o.push(JSON.stringify({pregunta:h,resultado:b})),a+=e[f],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(5===t){for(var y in s.titulo="Sistemas Consistentes & Confiables",e)if(e[y]>0){var x,g;x=n.state.sistemas_consistentes[y-1],g=e[y],o.push(JSON.stringify({pregunta:x,resultado:g})),a+=e[y],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}if(6===t){for(var N in s.titulo="Cultura Conectada",e)if(e[N]>0){var w,_;w=n.state.cultura_conectada[N-1],_=e[N],o.push(JSON.stringify({pregunta:w,resultado:_})),a+=e[N],r+=1}s.resultados=o,s.promedio=(a/r).toFixed(1),n.setState({promedio_general:n.state.promedio_general+a/r}),s.peso=n.state.peso_empresa[t-1]+"%"}var k=n.state.reporte_final;k.push(s),n.setState({reporte_final:k})},n.datos_campos=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=0,t[0])a=parseInt(r)+1;return s=new Array(a).fill(0),t.map((function(e,t){var a=n.state.peso_empresa[t];for(var r in e)s[r]=e[r]*a/100+s[r];return!0})),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=Object(l.a)(i.a.mark((function e(){var t,a,r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.IdEmpresa,e.next=4,n.context;case 4:return a=e.sent,r=a.state,s=a.auth_false,n.setState({state:r,auth_false:s}),e.next=10,n.datos_empresa(t);case 10:return o=[],e.next=13,Promise.all([n.resultados_innovacion(t,2),n.resultados_innovacion(t,3),n.resultados_innovacion(t,4),n.resultados_innovacion(t,5)]);case 13:return c=e.sent,e.next=16,n.datos_campos(c);case 16:return o=e.sent,n.reporte_final(o,1),e.next=20,Promise.all([n.proposito(t,2),n.proposito(t,3),n.proposito(t,4),n.proposito(t,5)]);case 20:return c=e.sent,e.next=23,n.datos_campos(c);case 23:return o=e.sent,n.reporte_final(o,2),e.next=27,Promise.all([n.liderazgo(t,2),n.liderazgo(t,3),n.liderazgo(t,4),n.liderazgo(t,5)]);case 27:return c=e.sent,e.next=30,n.datos_campos(c);case 30:return o=e.sent,n.reporte_final(o,3),e.next=34,Promise.all([n.estructuras_habilitadoras(t,2),n.estructuras_habilitadoras(t,3),n.estructuras_habilitadoras(t,4),n.estructuras_habilitadoras(t,5)]);case 34:return c=e.sent,e.next=37,n.datos_campos(c);case 37:return o=e.sent,n.reporte_final(o,4),e.next=41,Promise.all([n.sistemas_consistentes(t,2),n.sistemas_consistentes(t,3),n.sistemas_consistentes(t,4),n.sistemas_consistentes(t,5)]);case 41:return c=e.sent,e.next=44,n.datos_campos(c);case 44:return o=e.sent,n.reporte_final(o,5),e.next=48,Promise.all([n.cultura_conectada(t,2),n.cultura_conectada(t,3),n.cultura_conectada(t,4),n.cultura_conectada(t,5)]);case 48:return c=e.sent,e.next=51,n.datos_campos(c);case 51:o=e.sent,n.reporte_final(o,6),n.setState({mostrar:!0}),e.next=59;break;case 56:e.prev=56,e.t0=e.catch(0),window.ModalError("Reporte",e.t0.error);case 59:case"end":return e.stop()}}),e,null,[[0,56]])}))),n.Reporte=function(){var e=n.props.IdEmpresa,t={height:"80px"};window.screen.width<720&&(t={height:"145px"});return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h1",{className:"h3 mb-4 text-gray-800 text-center"},"Resultado Resumen Encuesta"),r.a.createElement("div",{className:"d-flex justify-content-center py-4"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5 my-2",onClick:n.props.funcion},"<< Anterior")),r.a.createElement("div",{className:"card",id:"tabla-final"},r.a.createElement("div",{className:"h5 card-header bg-white text-dark text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 py-2"},0===e?"".NombreEmpresa:n.state.datos_empresa.NombreEmpresa),r.a.createElement("div",{className:"col-md-4 py-2"},0===e?"".nombre:""),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 font-weight-bold py-2"},"SCORE TOTAL"),r.a.createElement("div",{className:"col-md-6 py-2"},r.a.createElement("span",{className:n.Style((n.state.promedio_general/6).toFixed(1))},(n.state.promedio_general/6).toFixed(1))))))),r.a.createElement("div",{className:"card-body",style:{paddingTop:"0px",paddingBottom:"0px"}},r.a.createElement("div",{className:"row"},n.state.reporte_final.map((function(e,a){var s=a;return r.a.createElement("div",{className:"col-md-4",key:a,style:{paddingTop:"0px",paddingBottom:"0px"}},r.a.createElement("div",{className:"card h-100"},r.a.createElement("div",{className:"card-header bg-white text-dark text-center",style:t},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"h6 col-md-9 py-3"},e.titulo),r.a.createElement("div",{className:"col-md-3 py-2"}," ",r.a.createElement("span",{className:n.Style(e.promedio)},e.promedio)))),r.a.createElement("div",{className:"card-body"},e.resultados.map((function(e,t){var a=JSON.parse(e);if(void 0===n.state.tooltips)return r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"col-md-9 py-2 text-left"},a.pregunta),r.a.createElement("div",{className:"col-md-3 py-2 text-center"},r.a.createElement("span",{className:n.Style(a.resultado)},a.resultado.toFixed(1))));var o="";return n.state.tooltips.map((function(e){return e.pagina===s.toString()&&e.pregunta===t.toString()&&(o+=e.texto+" Puntaje: ( "+(e.valor/e.total).toFixed(1)+" ) \n\n"),!0})),r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"col-md-9 py-2 text-left","data-toggle":"tooltip",title:o},a.pregunta),r.a.createElement("div",{className:"col-md-3 py-2 text-center"},r.a.createElement("span",{className:n.Style(a.resultado)},a.resultado.toFixed(1))))})))))}))))),r.a.createElement("div",{className:"d-flex justify-content-center py-4"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5 my-2",onClick:n.props.funcion},"<< Anterior")))},a.contextType=K,n.state={mostrar:!1,reporte_final:[],promedio_general:0,resultados:["Ingresos","Reducci\xf3n de costos & gastos","Rentabilidad","Modelo de negocio","Satisfacci\xf3n del Cliente","Sostenibilidad"],proposito:["Prop\xf3sito de Innovaci\xf3n","Alineamiento a Resultados","Desaf\xedos Concretos","Estrategias"],liderazgo:["Aprendizaje Continuo","Herramientas","Asignaci\xf3n Recursos y Responsables","Comunicaci\xf3n"],estructuras_habilitadoras:["Co-Creaci\xf3n","Talento","Recursos","Procesos"],sistemas_consistentes:["B\xfasqueda de Oportunidades","Desarrollo de Soluciones","Desarrollo de Modelo de Negocio","Gesti\xf3n del Cambio"],cultura_conectada:["Apertura hacia lo nuevo","Orientaci\xf3n Comercial","Flexibilidad ante Cambios","Tolerancia a Fallar"]},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:""},this.state.mostrar?r.a.createElement(this.Reporte,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).regresar=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({vista:0}),e.next=3,n.funcion_inicial();case 3:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),r="http://"+window.location.host.split(":")[0]+":60000/mantencion_empresas",e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:o=e.sent,200===s.status?n.setState({datos:o,vista:1}):400===s.status?window.ModalError("Mantenci&oacute;n Empresas",o.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError("Mantenci&oacute;n Empresas",e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,n.setState({state:a,auth_false:r}),e.next=8,n.datos();case 8:case"end":return e.stop()}}),e)}))),n.modificar_empresa=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({IdEmpresa:t.IdEmpresa,tipo:"m",vista:2});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.crear_empresa=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({IdEmpresa:0,tipo:"n",vista:2});case 1:case"end":return e.stop()}}),e)}))),n.borrar_empresa=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({IdEmpresa:t.IdEmpresa,tipo:"e",vista:2});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.consulta_usuarios=function(){var e=Object(l.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({tipo_encuesta:t,IdEmpresa:a.IdEmpresa,NombreEmpresa:a.NombreEmpresa,Sigla:a.Sigla,Contacto:a.Contacto,vista:3});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.informe_resumen=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({vista:4});case 1:case"end":return e.stop()}}),e)}))),n.reporte_encuesta_resumen=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({vista:5,IdEmpresa:t.IdEmpresa});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.pagina_principal=function(){var e=n.state.datos,t="",a="",s="",o="";return window.screen.width<720?(t="row bg-primary text-white text-center d-none",a="col-md-6 bg-primary text-white",s="col-md-6",o="row text-center py-4"):(t="row bg-primary text-white text-center",a="bg-primary text-white d-none",s="col-md py-2",o="row text-center"),r.a.createElement("div",{className:"px-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 py-3 text-center"},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.informe_resumen()}},"--- Informe Resumen ---"))),r.a.createElement("div",{className:"col-md-6 py-3 text-center"},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.crear_empresa()}}," --- Crea Empresa Nueva ---")))),r.a.createElement("div",{className:t},r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"#"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Acci\xf3n"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Empresa"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Sigla"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"90\xb0"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"180\xb0"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"270\xb0"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"360\xb0"),r.a.createElement("div",{className:"col-md py-2",style:{border:"1px solid #c9c9c9"}},"Resumen")),e.map((function(e,t){return r.a.createElement("div",{className:o,key:t},r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"#"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},t+1),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Acci\xf3n"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("i",{className:"far fa-trash-alt",onClick:function(){return n.borrar_empresa(e)}})),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Empresa"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.modificar_empresa(e)}},e.NombreEmpresa.replace("/"," / ")))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Sigla"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},e.Sigla.replace("/"," / ")),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"90\xb0"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},"X"===e.cuenta90?"-X-":r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.consulta_usuarios(2,e)}},e.cuenta90))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"180\xb0"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},"X"===e.cuenta180?"-X-":r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.consulta_usuarios(3,e)}},e.cuenta180))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"270\xb0"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},"X"===e.cuenta270?"-X-":r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.consulta_usuarios(4,e)}},e.cuenta270))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"360\xb0"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},"X"===e.cuenta360?"-X-":r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.consulta_usuarios(5,e)}},e.cuenta360))),r.a.createElement("div",{className:a,style:{border:"1px solid #c9c9c9"}},"Resumen"),r.a.createElement("div",{className:s,style:{border:"1px solid #c9c9c9"}},r.a.createElement("u",null,r.a.createElement("a",{className:"text-dark",href:"/InnovAccionMeter2020/#",onClick:function(){return n.reporte_encuesta_resumen(e)}},"Resumen Encuesta"))))})))},a.contextType=K,n.state={vista:0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):2===this.state.vista?r.a.createElement(C,{IdEmpresa:this.state.IdEmpresa,tipo:this.state.tipo,funcion:this.regresar}):3===this.state.vista?r.a.createElement(A,{IdEmpresa:this.state.IdEmpresa,tipo_encuesta:this.state.tipo_encuesta,NombreEmpresa:this.state.NombreEmpresa,Sigla:this.state.Sigla,Contacto:this.state.Contacto,funcion:this.regresar}):4===this.state.vista?r.a.createElement(P,{funcion:this.regresar}):5===this.state.vista?r.a.createElement(U,{IdEmpresa:this.state.IdEmpresa,funcion:this.regresar}):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),q=a(14),D=a.n(q),z=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),a="http://"+window.location.host.split(":")[0]+":60000/graficos?tipografico="+n.props.grafico+"&select="+n.props.select+"&TipoUsuario="+n.props.TipoUsuario,e.next=7,fetch(a,{method:"GET",headers:t});case 7:return r=e.sent,e.next=10,r.json();case 10:s=e.sent,200===r.status?n.setState({datos_graficos:s,vista:1}):400===r.status?(window.ModalError(n.state.titulo_principal,s.error),n.setState({datos_graficos:[],vista:1})):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),1===n.props.grafico&&n.setState({titulo_principal:"Resumen General"}),2===n.props.grafico&&n.setState({titulo_principal:"Empresa: "+n.props.nombre}),3===n.props.grafico&&n.setState({titulo_principal:"Industria: "+n.props.nombre}),e.next=12,n.datos();case 12:case"end":return e.stop()}}),e)}))),n.pagina_principal=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo_principal),n.state.datos_graficos.map((function(e,t){return r.a.createElement("div",{className:"d-flex justify-content-center container_grafico py-5",key:t},r.a.createElement(D.a,{options:e.options,series:e.options.series,type:e.type,width:700,height:300}))})))},a.contextType=K,n.state={vista:0,titulo_principal:""},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.datos=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),a="http://"+window.location.host.split(":")[0]+":60000/obtener_empresas",e.next=7,fetch(a,{method:"GET",headers:t});case 7:return r=e.sent,e.next=10,r.json();case 10:s=e.sent,200===r.status?n.setState({lista_empresas:s,vista:1}):400===r.status?window.ModalError(n.state.titulo_principal,s.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.mostrar_graficos=Object(l.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,a=0,r="",e.next=5,Array.from(document.getElementsByName("estadistica")).map((function(e){if(e.checked){if(t=parseInt(e.value),"1"===e.value&&(a=0),"2"===e.value){a=parseInt(document.getElementById("empresa").value);var n=document.getElementById("empresa");r=n.options[n.selectedIndex].text}if("3"===e.value){a=parseInt(document.getElementById("industria").value);var s=document.getElementById("industria");r=s.options[s.selectedIndex].text}}return!0}));case 5:n.setState({grafico:0}),n.setState({grafico:t,select:a,TipoUsuario:n.props.tipo,nombre:r});case 7:case"end":return e.stop()}}),e)}))),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),e.next=9,n.datos();case 9:return e.next=11,n.mostrar_graficos();case 11:case"end":return e.stop()}}),e)}))),n.pagina_principal=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 py-2 border"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"estadistica",id:"1",value:"1",defaultChecked:!0}),r.a.createElement("label",{className:"form-check-label",htmlFor:"1"},"Resumen General"))),r.a.createElement("div",{className:"col-md-3 border"},r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"estadistica",id:"2",value:"2"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"2"},"Empresa: "))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control",id:"empresa"},n.state.lista_empresas.map((function(e,t){return r.a.createElement("option",{value:e.IdEmpresa,key:t},e.Sigla)}))))))),r.a.createElement("div",{className:"col-md-3 border"},r.a.createElement("div",{className:"row py-2"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"estadistica",id:"3",value:"3"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"3"},"Industria:"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control",id:"industria"},r.a.createElement("option",{value:"1"},"Retail"),r.a.createElement("option",{value:"2"},"Consumo masivo"),r.a.createElement("option",{value:"3"},"Telecomunicaciones / Tecnologia"),r.a.createElement("option",{value:"4"},"Manufactura industrial"),r.a.createElement("option",{value:"5"},"Servicios financieros"),r.a.createElement("option",{value:"6"},"Servicios educacionales"),r.a.createElement("option",{value:"7"},"Servicios el\xe9ctricos, sanitario"),r.a.createElement("option",{value:"8"},"Servicios p\xfablicos"),r.a.createElement("option",{value:"9"},"Agricultura"),r.a.createElement("option",{value:"10"},"Miner\xeda"),r.a.createElement("option",{value:"11"},"Automotriz"),r.a.createElement("option",{value:"12"},"Salud / Otro")))))),r.a.createElement("div",{className:"col-md-3 py-2 border"},r.a.createElement("div",{className:"form-check text-center"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){n.mostrar_graficos()}},"Ver Estadisticas")))))},a.contextType=K,n.state={vista:0,grafico:0,select:0},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere...")))),r.a.createElement("div",null,1===this.state.grafico||2===this.state.grafico||3===this.state.grafico?r.a.createElement(z,{grafico:this.state.grafico,select:this.state.select,TipoUsuario:this.state.TipoUsuario,nombre:this.state.nombre}):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere...")))))}}]),a}(n.Component),G=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.funcion_inicial();case 2:case"end":return e.stop()}}),e)}))),n.funcion_inicial=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context;case 2:return t=e.sent,a=t.state,r=t.auth_false,s=t.tipo_warning,n.setState({state:a,auth_false:r,tipo_warning:s}),e.next=9,n.datos();case 9:case"end":return e.stop()}}),e)}))),n.datos=Object(l.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),a="http://"+window.location.host.split(":")[0]+":60000/email_coach",e.next=7,fetch(a,{method:"GET",headers:t});case 7:return r=e.sent,e.next=10,r.json();case 10:s=e.sent,200===r.status?(n.setState({vista:1}),document.getElementById("Correo").value=s[0].Correo):400===r.status?window.ModalError(n.state.titulo_principal,s.error):n.state.auth_false(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.ModalError(n.state.titulo_principal,e.t0.error);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.validar_form=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c,l,m,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e,t){""===document.getElementById(e).elements[t].value.trim()?(r=!1,document.getElementById(e).elements[t].classList.remove("is-valid"),document.getElementById(e).elements[t].classList.add("is-invalid"),a&&(document.getElementById(e).elements[t].focus(),a=!1)):(document.getElementById(e).elements[t].classList.remove("is-invalid"),document.getElementById(e).elements[t].classList.add("is-valid"),s[t]=document.getElementById(e).elements[t].value)},t.preventDefault(),a=!0,r=!0,"FormCoachEmail",s={},Array.from(document.getElementById("FormCoachEmail").elements).filter((function(e){return!0===e.className.includes("requerido")})).map((function(e){return o("FormCoachEmail",e.id)})),!r){e.next=38;break}return e.prev=8,c="http://"+window.location.host.split(":")[0]+":60000/email_coach",(l=new Headers).append("Content-Type","application/json"),l.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),e.next=15,fetch(c,{method:"POST",headers:l,body:JSON.stringify(s)});case 15:return m=e.sent,e.next=18,m.json();case 18:if(d=e.sent,200!==m.status){e.next=32;break}return window.ModalOk(n.state.titulo_principal,"el correo fue modificado con exito"),window.RemoveClass(),e.t0=n,e.next=25,0;case 25:return e.t1=e.sent,e.t2={vista:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=30,n.datos();case 30:e.next=33;break;case 32:400===m.status?window.ModalError(n.state.titulo_principal,d.error):n.state.auth_false();case 33:e.next=38;break;case 35:e.prev=35,e.t3=e.catch(8),window.ModalError(n.state.titulo_principal,e.t3.error);case 38:case"end":return e.stop()}}),e,null,[[8,35]])})));return function(t){return e.apply(this,arguments)}}(),n.pagina_principal=function(){var e="";return e=window.screen.width<720?"":"w-50 mx-auto py-3",r.a.createElement("div",null,r.a.createElement("h1",{className:"h3 py-4 text-gray-800 text-center"},n.state.titulo_principal),r.a.createElement("form",{className:e,id:"FormCoachEmail"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Correo"},"Correo:"),r.a.createElement("input",{type:"text",className:"form-control requerido",id:"Correo"}),r.a.createElement("div",{className:"invalid-feedback"},"Campo Obligatorio"))),r.a.createElement("div",{className:"row py-5 text-center"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.validar_form},n.state.boton)),r.a.createElement("div",{className:"col-md-6 py-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary px-5",onClick:n.props.funcion},"<< Anterior"))))},a.contextType=K,n.state={vista:0,titulo_principal:"Administraci\xf3n Correo Coach",boton:"Actualizar Correo"},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,1===this.state.vista?r.a.createElement(this.pagina_principal,null):r.a.createElement("div",{className:"d-flex justify-content-center py-5"},r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Espere..."))))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).regresar=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.cambiar_pagina(n.state.menu,6);case 1:case"end":return e.stop()}}),e)}))),n.cambiar_pagina=function(){var e=Object(l.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,0;case 3:e.t1=e.sent,e.t2={submenu:e.t1},e.t0.setState.call(e.t0,e.t2),n.setState({menu:t,submenu:a});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.style_menu=function(e){return e===n.state.menu||e===n.state.submenu?"p-3 badge badge-success text-uppercase":"p-3 badge badge-light text-uppercase"},n.pagina_principal=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("hr",null),r.a.createElement("div",{className:"row form-group text-center"},r.a.createElement("div",{className:"col-md-3 form-group"},r.a.createElement("u",null,r.a.createElement("a",{className:n.style_menu(2),href:"/InnovAccionMeter2020/#",onClick:function(){return n.cambiar_pagina(2,6)}},"Equipo Gerencial (90\xb0)"))),r.a.createElement("div",{className:"col-md-3 form-group"},r.a.createElement("u",null,r.a.createElement("a",{className:n.style_menu(3),href:"/InnovAccionMeter2020/#",onClick:function(){return n.cambiar_pagina(3,6)}},"Colaboradores (180\xb0)"))),r.a.createElement("div",{className:"col-md-3 form-group"},r.a.createElement("u",null,r.a.createElement("a",{className:n.style_menu(4),href:"/InnovAccionMeter2020/#",onClick:function(){return n.cambiar_pagina(4,6)}},"Proveedores (270\xb0)"))),r.a.createElement("div",{className:"col-md-3 form-group"},r.a.createElement("u",null,r.a.createElement("a",{className:n.style_menu(5),href:"/InnovAccionMeter2020/#",onClick:function(){return n.cambiar_pagina(5,6)}},"Clientes (360\xb0)")))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row form-group text-center px-5"},r.a.createElement("div",{className:"col-md-4 form-group"},r.a.createElement("u",null,r.a.createElement("a",{className:n.style_menu(6),href:"/InnovAccionMeter2020/#",onClick:function(){return n.cambiar_pagina(n.state.menu,6)}},"Estadisticas"))),r.a.createElement("div",{className:"col-md-4 form-group"},r.a.createElement("u",null,r.a.createElement("a",{className:n.style_menu(7),href:"/InnovAccionMeter2020/#",onClick:function(){return n.cambiar_pagina(n.state.menu,7)}},"Encuestas Terminadas"))),r.a.createElement("div",{className:"col-md-4 form-group"},r.a.createElement("u",null,r.a.createElement("a",{className:n.style_menu(8),href:"/InnovAccionMeter2020/#",onClick:function(){return n.cambiar_pagina(n.state.menu,8)}},"Mantencion Empresas")))))},n.coach_mail=function(){n.cambiar_pagina(n.state.menu,9)},n.state={menu:2,submenu:6},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.menu,t=this.state.submenu;return r.a.createElement("div",null,r.a.createElement("div",{className:""},r.a.createElement("div",{id:"wrapper",className:""},r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement(x,{coach_mail:this.coach_mail}),r.a.createElement(this.pagina_principal,null),r.a.createElement("div",{className:"container-fluid"},7===t?r.a.createElement(j,{tipo:e}):8===t?r.a.createElement(L,{tipo:e}):6===t?r.a.createElement(H,{tipo:e}):9===t?r.a.createElement(G,{funcion:this.regresar}):"")),r.a.createElement("footer",{className:"sticky-footer bg-white"},r.a.createElement("div",{className:"container my-auto"},r.a.createElement("div",{className:"copyright text-center my-auto"},r.a.createElement("span",null,"Copyright \xa9 Best Place to Innovate"))))))))}}]),a}(n.Component),J=a(27);a(40).config();var K=r.a.createContext({state:void 0,idioma:void 0,tipo_warning:function(){},auth_false:function(){}}),X=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).tipo_warning=function(e,t,a){n.setState({funcion_warning:e}),window.ModalWarning(t,a)},n.validar_session=function(){return null!==sessionStorage.getItem("innovaccionmeter_session")},n.unbind_usuario=function(){n.setState({usuario:void 0})},n.accessbytoken=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),console.log(t),r="http://"+window.location.host.split(":")[0]+":60000/accessbytoken?token="+t,e.next=7,fetch(r,{method:"GET",headers:a});case 7:return s=e.sent,e.next=10,s.json();case 10:if(o=e.sent,200!==s.status){e.next=26;break}return(c={}).frmlogin_tipoEncuesta=o[0].TipoUsuario,c.frmlogin_usuario=o[0].Correo,c.frmlogin_password=o[0].Clave,r="http://"+window.location.host.split(":")[0]+":60000/login",e.next=19,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 19:return s=e.sent,e.next=22,s.json();case 22:o=e.sent,200===s.status?(sessionStorage.setItem("innovaccionmeter_session",o.token),n.data_session(),window.location.href="/InnovAccionMeter2020/#"):window.location.href="/InnovAccionMeter2020/#",e.next=27;break;case 26:window.location.href="/InnovAccionMeter2020/#";case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),window.location.href="/InnovAccionMeter2020/#";case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),n.auth_false=function(){sessionStorage.removeItem("innovaccionmeter_session"),window.ModalError("","Sessi&oacute;n expirada, inicie sessi&oacute;n nuevamente"),n.setState({usuario:void 0})},n.pagina_inicial=function(){if(void 0!==n.state.usuario)return n.state.usuario.TipoUsuario>=2&&n.state.usuario.TipoUsuario<=5?r.a.createElement(k,null):88===n.state.usuario.TipoUsuario?r.a.createElement(S,null):99===n.state.usuario.TipoUsuario?r.a.createElement(V,null):"";var e=J.parse(window.location.search);return 1===Object.keys(e).length&&""!==e.tokenaccess.trim()?(n.accessbytoken(e.tokenaccess),""):r.a.createElement(y,{data_session:n.data_session})},n.data_session=Object(l.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",sessionStorage.getItem("innovaccionmeter_session")),e.next=6,fetch("http://"+window.location.host.split(":")[0]+":60000/session",{method:"GET",headers:t});case 6:if(200!==(a=e.sent).status){e.next=14;break}return e.next=10,a.json();case 10:r=e.sent,n.setState({usuario:r}),e.next=17;break;case 14:sessionStorage.removeItem("innovaccionmeter_session"),window.ModalError("","Sessi&oacute;n expirada, inicie sessi&oacute;n nuevamente"),n.setState({usuario:void 0});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),window.ModalError("",e.t0.error);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),n.componentDidMount=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.validar_session()){e.next=6;break}return e.next=4,n.data_session();case 4:e.next=7;break;case 6:n.setState({usuario:void 0});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),window.ModalError("",e.t0.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.state={idioma:"ESP",tipo_warning:0,show:!1},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(K.Provider,{value:{state:this.state,idioma:this.state.idioma,tipo_warning:this.tipo_warning,auth_false:this.auth_false,unbind_usuario:this.unbind_usuario}},r.a.createElement("div",{className:"container",id:"div_principal"},r.a.createElement(v,null),r.a.createElement(E,null),r.a.createElement(f,{funcion:this.state.funcion_warning}),r.a.createElement(this.pagina_inicial,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,a){e.exports=a.p+"static/media/LogoIAM.43a6f2dc.jpg"}},[[15,1,2]]]);
//# sourceMappingURL=main.8209166f.chunk.js.map